import{d as y,L as R,l as d,c as E,B,b as v,f as j,i as e,x as t,w as o,aF as T,D as U,G as D,e as p,a1 as V,Q as i,I as b,h as x,S as F,O as g,C as N,bh as q,bj as I}from"./index-1db35709.js";const M={class:"h-100 d-flex align-center justify-center"},Y={class:"w-100"},A=e("h5",{class:"text-h6 font-weight-bold"},"Create new password",-1),G=e("div",{class:"text-muted mt-1 font-weight-regular"}," Your new password must be different from previous used password. ",-1),L=e("div",{class:"font-weight-medium mb-1 mb-1 mt-5"},[i(" Username "),e("i",{class:"ph-asterisk ph-xs text-danger"})],-1),O=e("div",{class:"d-flex justify-space-between align-center mt-5"},[e("div",{class:"font-weight-medium mb-1"},[i(" Password "),e("i",{class:"ph-asterisk ph-xs text-danger"})])],-1),Q=e("div",{class:"text-muted mb-4 text-caption"}," Your password must be 8-20 characters long. ",-1),W=e("div",{class:"d-flex justify-space-between align-center mt-5"},[e("div",{class:"font-weight-medium mb-1"},[i(" Confirm Password "),e("i",{class:"ph-asterisk ph-xs text-danger"})])],-1),$=e("span",{class:"text-caption"},"Remember me",-1),z={class:"text-center mt-5 d-flex align-center justify-center"},H=y({__name:"CreatePassword",setup(k){const w=R(),f=d(!0),h=d(!1),u=d(""),c=d(""),r=d(!1),s=d({password:{value:"",isValid:!1},confirmPassword:{value:"",isValid:!1},username:{value:"",isValid:!1}}),C=E(()=>s.value.username.isValid&&s.value.password.isValid&&s.value.confirmPassword.isValid),P=async()=>{try{if(h.value=!0,u.value="",c.value="",r.value=!0,!C.value)return;const m=q.auth,{password:a,username:n,confirmPassword:l}=s.value,S={password:a.value,username:n.value,confirmPassword:l.value};if(m==="fakebackend"){const _=await I.createPassword(S);_&&(c.value=_,r.value=!1,s.value={confirmPassword:{value:"",isValid:!1},username:{value:"",isValid:!1},password:{value:"",isValid:!1}}),setTimeout(()=>{w.push({path:"/signin"})},2e3)}}catch(m){u.value=m.message}finally{h.value=!1}};return(m,a)=>{const n=B("TextField");return v(),j("div",M,[e("div",Y,[t(T,{class:"text-center"},{default:o(()=>[A,G]),_:1}),t(N,{class:"mt-5"},{default:o(()=>[t(U,{justify:"center",class:"align-center"},{default:o(()=>[t(D,{cols:"12",lg:"8"},{default:o(()=>[u.value?(v(),p(V,{key:0,class:"mb-3",color:"danger",variant:"tonal",density:"compact"},{default:o(()=>[i(b(u.value),1)]),_:1})):x("",!0),c.value?(v(),p(V,{key:1,class:"mb-3",color:"success",variant:"tonal",density:"compact"},{default:o(()=>[i(b(c.value),1)]),_:1})):x("",!0),L,t(n,{modelValue:s.value.username,"onUpdate:modelValue":a[0]||(a[0]=l=>s.value.username=l),value:s.value.username.value,isRequired:"",showError:r.value,isSubmitted:r.value,placeholder:"Enter username","hide-details":""},null,8,["modelValue","value","showError","isSubmitted"]),O,t(n,{modelValue:s.value.password,"onUpdate:modelValue":a[1]||(a[1]=l=>s.value.password=l),"hide-details":"",isRequired:"",isPassword:"",showError:r.value,isSubmitted:r.value},null,8,["modelValue","showError","isSubmitted"]),Q,W,t(n,{modelValue:s.value.confirmPassword,"onUpdate:modelValue":a[2]||(a[2]=l=>s.value.confirmPassword=l),isRequired:"",showError:r.value,isSubmitted:r.value,"hide-details":"",isPassword:""},null,8,["modelValue","showError","isSubmitted"]),t(F,{modelValue:f.value,"onUpdate:modelValue":a[3]||(a[3]=l=>f.value=l),"hide-details":"",color:"primary"},{label:o(()=>[$]),_:1},8,["modelValue"]),t(g,{color:"primary",block:"",class:"mt-4",onClick:P},{default:o(()=>[i(" Reset Password ")]),_:1}),e("div",z,[i(" Wait, I remember my password... "),t(g,{to:"/signin",variant:"text",color:"primary",class:"font-weight-bold text-decoration-underline pa-0"},{default:o(()=>[i(" Click here ")]),_:1})])]),_:1})]),_:1})]),_:1})])])}}}),K=y({__name:"CreatePassword",setup(k){return(w,f)=>(v(),p(H))}});export{K as default};
