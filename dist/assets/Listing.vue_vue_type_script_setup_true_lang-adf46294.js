import{d as G,l as n,cN as b,c as k,m as R,M as g,B as J,b as d,f as P,x as u,w as c,aF as K,i as s,Q as A,bq as X,O as Y,C as Z,aG as ee,g as L,cO as le,F as N,E as te,S as ae,H as T,e as B,br as se,h as O,I as v,ah as ne,cP as ue,V as oe,cQ as re,W as ce}from"./index-1db35709.js";const ie=s("i",{class:"ph-plus-circle mx-1"},null,-1),de={class:"d-flex align-center"},ve={class:"font-weight-bold"},fe=s("i",{class:"bx bxs-star mx-1"},null,-1),me={key:0,class:"text-center pa-7"},ge={class:"mb-3"},pe=s("i",{class:"ph-magnifying-glass ph-lg"},null,-1),he=s("div",{class:"text-subtitle-1 font-weight-bold"}," Sorry! No Result Found ",-1),_e=s("div",{class:"text-muted mt-1"}," We've searched more than 150+ products We did not find any products for you search. ",-1),ye=G({__name:"Listing",props:{filters:{type:Object,default:()=>{}}},setup(w){const I=w,i=n(!1),p=n(null),h=n(!1),C=n(null),D=n(!1),W=b.map(e=>({...e,isChecked:!1})),a=n(W),f=n(a.value),x=n(1),S=k(()=>f.value.length),_=n([]),V=n(!1),o=n({page:x.value,start:0,end:0,noOfItems:S.value,itemsPerPage:10}),U=()=>{const{itemsPerPage:e,page:t}=o.value,r=(t-1)*e;let l=r+e;l=l<=S.value?l:S.value,o.value={...o.value,start:r,end:l};const y=a.value.slice(o.value.start,o.value.end);V.value=!0,_.value=[],setTimeout(()=>{_.value=y,V.value=!1},200)};R(()=>{U()}),g(x,e=>{o.value.page=e,U()});const F=k(()=>I.filters.query);g(F,e=>{a.value=f.value.filter(t=>{const r=e.toLowerCase();if(t.title.toLowerCase().includes(r)||t.price.includes(r))return t}),m(a.value)});const M=k(()=>I.filters.category);g(M,e=>{e?a.value=f.value.filter(t=>t.category===e):a.value=b,m(a.value)});const q=k(()=>I.filters.discount);g(q,e=>{e?a.value=f.value.filter(t=>t.discount===e):a.value=b,m(a.value)});const E=()=>{D.value=!D.value,a.value=a.value.map(e=>({...e,isChecked:D.value}))},$=(e,t)=>{e==="edit"?(p.value=t,i.value=!0):e==="remove"&&(h.value=!0,C.value=t)};g(i,e=>{e||(p.value=null)}),g(h,e=>{e||(C.value=null)});const j=e=>{a.value=a.value.map(t=>t.id===e.id?{...t,...e}:{...t}),i.value=!1,f.value=a.value,m(a.value)},z=e=>{a.value.unshift(e),f.value=a.value,m(a.value),i.value=!1},H=()=>{p.value={img:null,img_alt:"",title:"",category:"",stock:"",price:"",discount:"",orders:"",ratings:"",publish:"",id:-1},i.value=!0},Q=()=>{a.value=b.filter(e=>{var t;return e.id!==((t=C.value)==null?void 0:t.id)}),h.value=!1,m(a.value)},m=e=>{V.value=!0;const{itemsPerPage:t}=o.value,r=1;let l=r+t;l=l<=e.length?l:e.length,_.value=[],setTimeout(()=>{_.value=e,o.value={...o.value,start:r,end:l,noOfItems:e.length},V.value=!1},200)};return(e,t)=>{const r=J("ListMenuWithIcon");return d(),P(N,null,[u(oe,null,{default:c(()=>[u(K,{class:"text-subtitle-1 font-weight-bold d-flex justify-space-between align-center"},{default:c(()=>[s("div",null,[A(" Products "),u(X,{content:"254",inline:"",color:"light",rounded:"sm"})]),u(Y,{color:"primary",elevation:"0",class:"mt-2",onClick:H},{default:c(()=>[ie,A(" Add Product ")]),_:1})]),_:1}),u(Z,null,{default:c(()=>[u(ee,{modelValue:x.value,"onUpdate:modelValue":t[0]||(t[0]=l=>x.value=l),config:o.value,headerItems:L(le),"is-pagination":"",loading:V.value,onOnSelectAll:E},{body:c(()=>[(d(!0),P(N,null,te(_.value,l=>(d(),P("tr",{key:l.title},[s("td",null,[u(ae,{modelValue:l.isChecked,"onUpdate:modelValue":y=>l.isChecked=y,color:"primary","hide-details":""},null,8,["modelValue","onUpdate:modelValue"])]),s("td",null,[s("div",de,[u(T,{color:"light",class:"pa-2 mx-1",rounded:""},{default:c(()=>[l.img?(d(),B(se,{key:0,src:l.img[0]},null,8,["src"])):O("",!0)]),_:2},1024),s("span",ve,v(l.title),1)])]),s("td",null,v(l.category),1),s("td",null,v(l.stock),1),s("td",null,v(l.price),1),s("td",null,v(l.orders),1),s("td",null,[u(ne,{color:"warning",rounded:"sm ",size:"x-small"},{default:c(()=>[fe,A(" "+v(l.ratings),1)]),_:2},1024)]),s("td",null,v(l.publish),1),s("td",null,[u(r,{menuItems:L(ue),onOnSelect:y=>$(y,l)},null,8,["menuItems","onOnSelect"])])]))),128))]),_:1},8,["modelValue","config","headerItems","loading"]),a.value.length?O("",!0):(d(),P("div",me,[s("div",ge,[u(T,{color:"primary",variant:"tonal",size:"x-large"},{default:c(()=>[pe]),_:1})]),he,_e]))]),_:1})]),_:1}),p.value?(d(),B(re,{key:0,modelValue:i.value,"onUpdate:modelValue":t[1]||(t[1]=l=>i.value=l),productDetail:p.value,onOnUpdate:j,onOnCreate:z},null,8,["modelValue","productDetail"])):O("",!0),C.value?(d(),B(ce,{key:1,modelValue:h.value,"onUpdate:modelValue":t[2]||(t[2]=l=>h.value=l),onOnConfirm:Q},null,8,["modelValue"])):O("",!0)],64)}}});export{ye as _};
