import{_ as x}from"./TopBar.vue_vue_type_script_setup_true_lang-5fb06cfb.js";import{_ as L,f as U}from"./Listing.vue_vue_type_script_setup_true_lang-9641cccc.js";import{a as E}from"./utils-a0ae0cef.js";import{d as C,l as n,c as V,M as v,b as m,f as D,x as f,e as p,h as _,O as F,F as b,B as j,g as q}from"./index-96068b83.js";import{_ as A}from"./CreateUpdateAgentDialog.vue_vue_type_script_setup_true_lang-9d59f9d8.js";import{_ as G}from"./Pagination.vue_vue_type_script_setup_true_lang-70ac1d00.js";const N=[{title:"agent",disabled:!1},{title:"grid-view",disabled:!0}],S=C({__name:"index",setup(w){const s=n(U),c=n(1),u=n(!1),r=n(null),a=n(E.toReversed()),o=n(a.value),i=n(!1),d=n(null),k=V(()=>s.value.query);v(k,e=>{a.value=o.value.filter(l=>{const t=e.toLowerCase();if(l.name.toLowerCase().includes(t)||l.location.toLowerCase().includes(t)||l.email.toLowerCase().includes(t))return l})});const $=V(()=>s.value.status);v($,e=>{e!==""?a.value=o.value.filter(l=>l.status===e):a.value=o.value}),v(u,e=>{e||(r.value=null)}),v(i,e=>{e||(d.value=null)});const g=e=>{e?r.value=e:r.value={id:-1,joining_date:new Date,img:"",img_alt:"avatar.jpg",name:"",property:"149",location:"",email:"",contact:"",status:"",new:!0},u.value=!0},y=e=>{if(e.id===-1){const l={...e,id:o.value.length+1,img:e.img.src?e.img.src:e.img};a.value.unshift(l)}else a.value=a.value.map(l=>l.id===e.id?{...l,...e}:l);o.value=a.value,u.value=!1},B=e=>{d.value=e,i.value=!0},O=()=>{a.value=o.value.filter(e=>e.id!==d.value),o.value=a.value,i.value=!1};return(e,l)=>(m(),D(b,null,[f(x,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value=t),onOnAdd:l[1]||(l[1]=t=>g(null))},null,8,["modelValue"]),f(L,{data:a.value,onOnEdit:g,onOnDelete:B},null,8,["data"]),a.value.length?(m(),p(G,{key:0,modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=t=>c.value=t)},null,8,["modelValue"])):_("",!0),r.value?(m(),p(A,{key:1,modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=t=>u.value=t),data:r.value,onOnSubmit:y},null,8,["modelValue","data"])):_("",!0),d.value?(m(),p(F,{key:2,modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=t=>i.value=t),onOnConfirm:O},null,8,["modelValue"])):_("",!0)],64))}}),K=C({__name:"GridView",setup(w){return(s,c)=>{const u=j("Breadcrumb");return m(),D(b,null,[f(u,{title:"Agent Grid",items:q(N)},null,8,["items"]),f(S)],64)}}});export{K as default};
