import{d as y,l as g,M as E,B as S,b,f,x as D,n as V,I as A,h as M,a7 as B,Z as h,ak as O,al as k}from"./index-1db35709.js";const x=[{title:"employee-list",disabled:!1},{title:"add-employee",disabled:!0}],z=[{value:"",label:"Selecione o Sexo"},{label:"Feminino",value:"FEMALE"},{label:"Masculino",value:"MALE"}],R=[{value:void 0,label:"Selecione o Estado Cívil"},{label:"Solteiro",value:"SINGLE"},{label:"Casado",value:"MARRIED"},{label:"Divorciado",value:"DIVORCED"},{label:"Viúvo",value:"WIDOWED"},{label:"União de facto",value:"UNKNOWN"}],w=[{value:"",label:"Selecione o Grupo Sanguíneo"},{label:"A+",value:"A+"},{label:"A-",value:"A-"},{label:"B+",value:"B+"},{label:"B-",value:"B-"},{label:"AB+",value:"AB+"},{label:"AB-",value:"AB-"},{label:"O+",value:"O+"},{label:"O-",value:"O-"}],G=[{value:"",label:"Selecione a Nacionalidade"},{label:"Moçambicana",value:"MOZAMBICAN"},{label:"Estrangeiro",value:"FOREIGNER"}],I={class:"validated-datetime-picker"},N={key:0,class:"error-message"},_=y({__name:"ValidatedDatePicker",props:{modelValue:[Date,String,Array],rules:{type:Array,default:()=>[]},errorMessages:{type:[String,Array],default:""},placeholder:{type:String,default:"Selecione a data"},format:{type:String,default:"dd/MM/yyyy"},disabled:{type:Boolean,default:!1}},emits:["update:modelValue","update:error","blur"],setup(l,{expose:u,emit:d}){const n=l,r=d,s=g(""),o=g(null),i=g(!1),m=a=>a?a instanceof Date?a:typeof a=="string"?new Date(a):null:null;E(()=>n.modelValue,a=>{o.value=m(a)},{immediate:!0});const t=(a=o.value)=>{if(s.value="",!n.rules||n.rules.length===0)return!0;for(const c of n.rules){const p=c(a);if(typeof p=="string")return s.value=p,r("update:error",p),!1}return r("update:error",""),!0},e=a=>{o.value=a;const c=a?a.toISOString():null;r("update:modelValue",c),i.value&&t(a)},v=()=>{i.value=!0,t(),r("blur")};return u({validate:t}),(a,c)=>{const p=S("VueDatePicker");return b(),f("div",I,[D(p,{modelValue:o.value,"onUpdate:modelValue":[c[0]||(c[0]=P=>o.value=P),e],format:l.format,placeholder:l.placeholder,class:V([{"error-border":s.value||l.errorMessages},{"is-disabled":l.disabled}]),"enable-time-picker":!1,disabled:l.disabled,"auto-apply":"",onBlur:v},null,8,["modelValue","format","placeholder","class","disabled"]),s.value||l.errorMessages?(b(),f("div",N,A(s.value||l.errorMessages),1)):M("",!0)])}}});const U=B(_,[["__scopeId","data-v-577b28c2"]]),F=h("departments",{state:()=>({departments:[],pagination:{totalElements:0,currentPage:0,itemsPerPage:1e7,totalPages:0},loading:!1,error:null}),actions:{async fetchDepartments(l,u,d,n="createdAt",r="asc",s,o){this.loading=!0,this.error=null;const i=u??this.pagination.currentPage,m=d??this.pagination.itemsPerPage;try{const{content:t,meta:e}=await O.getDepartmentsByInstitution(l,i,m,n,r,s,o);this.departments=t,this.pagination={totalElements:e.totalElements,currentPage:e.page,itemsPerPage:e.size,totalPages:e.totalPages||Math.ceil(e.totalElements/e.size)},console.log("Departamentos:",this.departments),console.log("Meta:",this.pagination)}catch(t){this.error=t.message||"Erro ao buscar departamentos",console.error("❌ Erro ao buscar departamentos:",t),this.departments=[],this.pagination.totalElements=0}finally{this.loading=!1}}}}),L=h("positions",{state:()=>({positions:[],pagination:{totalElements:0,currentPage:0,itemsPerPage:1e7,totalPages:0},loading:!1,error:null}),actions:{async fetchPositions(l,u,d,n="createdAt",r="asc",s,o){this.loading=!0,this.error=null;const i=u??this.pagination.currentPage,m=d??this.pagination.itemsPerPage;try{const{content:t,meta:e}=await k.getPositionsByDepartment(l,i,m,n,r,s,o);this.positions=t,this.pagination={totalElements:e.totalElements,currentPage:e.page,itemsPerPage:e.size,totalPages:e.totalPages||Math.ceil(e.totalElements/e.size)},console.log("Posições:",this.positions),console.log("Meta:",this.pagination)}catch(t){this.error=t.message||"Erro ao buscar posições",console.error("❌ Erro ao buscar posições:",t),this.positions=[],this.pagination.totalElements=0}finally{this.loading=!1}}}});export{U as V,w as a,x as b,L as c,z as g,R as m,G as n,F as u};
