import{f as L,_ as O,b as U}from"./Listing.vue_vue_type_script_setup_true_lang-6039c90b.js";import{_ as E}from"./TopBar.vue_vue_type_script_setup_true_lang-23e724ca.js";import{a as F}from"./utils-cdff6c9b.js";import{d as C,l as n,c as V,M as v,b as m,f as D,x as f,e as p,h as _,W as j,F as b,B as q,g as A}from"./index-1db35709.js";import{_ as G}from"./CreateUpdateAgentDialog.vue_vue_type_script_setup_true_lang-c2108e94.js";import{_ as N}from"./Pagination.vue_vue_type_script_setup_true_lang-ae5a1e70.js";const S=C({__name:"index",setup(k){const s=n(L),c=n(1),u=n(!1),r=n(null),a=n(F.toReversed()),o=n(a.value),i=n(!1),d=n(null),w=V(()=>s.value.query);v(w,e=>{a.value=o.value.filter(l=>{const t=e.toLowerCase();if(l.name.toLowerCase().includes(t)||l.location.toLowerCase().includes(t)||l.email.toLowerCase().includes(t))return l})});const $=V(()=>s.value.status);v($,e=>{e!==""?a.value=o.value.filter(l=>l.status===e):a.value=o.value}),v(u,e=>{e||(r.value=null)}),v(i,e=>{e||(d.value=null)});const g=e=>{e?r.value=e:r.value={id:-1,joining_date:new Date,img:"",img_alt:"avatar.jpg",name:"",property:"149",location:"",email:"",contact:"",status:"",new:!0},u.value=!0},y=e=>{if(e.id===-1){const l={...e,id:o.value.length+1,img:e.img.src?e.img.src:e.img};a.value.unshift(l)}else a.value=a.value.map(l=>l.id===e.id?{...l,...e}:l);o.value=a.value,u.value=!1},B=e=>{d.value=e,i.value=!0},x=()=>{a.value=o.value.filter(e=>e.id!==d.value),o.value=a.value,i.value=!1};return(e,l)=>(m(),D(b,null,[f(E,{modelValue:s.value,"onUpdate:modelValue":l[0]||(l[0]=t=>s.value=t),onOnAdd:l[1]||(l[1]=t=>g(null))},null,8,["modelValue"]),f(O,{data:a.value,onOnEdit:g,onOnDelete:B},null,8,["data"]),a.value.length?(m(),p(N,{key:0,modelValue:c.value,"onUpdate:modelValue":l[2]||(l[2]=t=>c.value=t)},null,8,["modelValue"])):_("",!0),r.value?(m(),p(G,{key:1,modelValue:u.value,"onUpdate:modelValue":l[3]||(l[3]=t=>u.value=t),data:r.value,onOnSubmit:y},null,8,["modelValue","data"])):_("",!0),d.value?(m(),p(j,{key:2,modelValue:i.value,"onUpdate:modelValue":l[4]||(l[4]=t=>i.value=t),onOnConfirm:x},null,8,["modelValue"])):_("",!0)],64))}}),J=C({__name:"GridView",setup(k){return(s,c)=>{const u=q("Breadcrumb");return m(),D(b,null,[f(u,{title:"Agent Grid",items:A(U)},null,8,["items"]),f(S)],64)}}});export{J as default};
