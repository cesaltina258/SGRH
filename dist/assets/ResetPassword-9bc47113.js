import{d as b,J as I,l as c,L as B,c as E,B as F,b as m,f as R,i as r,x as t,w as s,I as l,aF as N,V as D,G as j,bh as q,g as P,a0 as y,e as h,a1 as w,h as x,T as d,S as V,D as A,be as M,aK as G,a5 as J,a6 as K,a7 as L}from"./index-96068b83.js";import{e as U}from"./email-1b871208.js";const z=n=>(J("data-v-38c0394b"),n=n(),K(),n),H={class:"h-100 d-flex align-center justify-center"},O={class:"w-100"},Q={class:"text-h6 font-weight-bold mt-10"},W={class:"text-muted mt-1 font-weight-regular"},X={class:"font-weight-medium mb-1"},Y=z(()=>r("i",{class:"ph-asterisk ph-xs text-danger"},null,-1)),Z={class:"text-center mt-5 d-flex align-center justify-center"},ee=b({__name:"Form",setup(n){const{t:g}=I(),a=c(""),k=B();let p=null;const i=c(""),v=c(!1),f=c(!1),u=c({email:{value:"",isValid:!1}}),C=E(()=>u.value.email.isValid),T=async()=>{try{if(v.value=!0,a.value="",i.value="",f.value=!0,!C.value)return;if(M.auth==="authService"){const o=await G.forgotPassword(u.value.email.value);i.value=g("t-sending-reset-code"),setTimeout(()=>{k.push({path:"/auth/verify-email",query:{email:u.value.email.value}})},2e3)}}catch(e){console.error("Error:",e),S(e)}finally{v.value=!1}},S=e=>{e.response?a.value=e.response.data.message:e.request?a.value="No response from server.":a.value=e.message,p&&clearTimeout(p),p=setTimeout(()=>{a.value=""},3e3)};return(e,o)=>{const $=F("TextField");return m(),R("div",H,[r("div",O,[t(N,{class:"text-center"},{default:s(()=>[r("h5",Q,l(e.$t("t-forgot-password")),1),r("div",W,l(e.$t("t-reset-password")),1)]),_:1}),t(A,{class:"mt-5"},{default:s(()=>[t(D,{justify:"center",class:"align-center"},{default:s(()=>[t(j,{cols:"12",lg:"8"},{default:s(()=>[t(q,{src:P(U),alt:"",height:"80"},null,8,["src"]),t(y,{name:"fade"},{default:s(()=>[i.value?(m(),h(w,{key:0,text:i.value,type:"warning",class:"mb-4 mx-5 mt-3",variant:"tonal",color:"warning",density:"compact",onClick:o[0]||(o[0]=_=>i.value=""),style:{cursor:"pointer"}},null,8,["text"])):x("",!0)]),_:1}),t(y,{name:"fade"},{default:s(()=>[a.value?(m(),h(w,{key:0,text:a.value,type:"error",class:"mb-4 mx-5 mt-3",variant:"tonal",color:"danger",density:"compact",onClick:o[1]||(o[1]=_=>a.value=""),style:{cursor:"pointer"}},null,8,["text"])):x("",!0)]),_:1}),r("div",X,[d(l(e.$t("email"))+" ",1),Y]),t($,{modelValue:u.value.email,"onUpdate:modelValue":o[2]||(o[2]=_=>u.value.email=_),placeholder:e.$t("t-enter-your-email"),isRequired:"","hide-details":"",isEmail:"",showError:f.value,isSubmitted:f.value},null,8,["modelValue","placeholder","showError","isSubmitted"]),t(V,{color:"primary",block:"",class:"mt-4",onClick:T,loading:v.value},{default:s(()=>[d(l(e.$t("t-send-reset-code")),1)]),_:1},8,["loading"]),r("div",Z,[d(l(e.$t("t-wait-remember-password"))+" ",1),t(V,{to:"/signin",variant:"text",color:"primary",class:"font-weight-bold text-decoration-underline pa-0"},{default:s(()=>[d(l(e.$t("t-click-here")),1)]),_:1})])]),_:1})]),_:1})]),_:1})])])}}});const te=L(ee,[["__scopeId","data-v-38c0394b"]]),oe=b({__name:"ResetPassword",setup(n){return(g,a)=>(m(),h(te))}});export{oe as default};
