import{aO as Pt,am as k,aP as L,c as P,p as Ee,aQ as E,t as j,aR as me,ap as _,aS as he,ar as U,x as g,aT as St,aU as _e,aV as xt,aW as R,l as V,aX as wt,aY as kt,aZ as ve,a_ as Ne,a$ as w,b0 as ae,b1 as J,b2 as Be,b3 as Tt,b4 as Dt,b5 as It,b6 as Vt,F as M,b7 as Pe,b8 as Bt,q as B,O as Ge,Q,a4 as Ce,I as $,b9 as pe,ba as ee,bb as Ct,M as te,bc as Ft,bd as Ot,be as At,bf as He,bg as le,aD as $t,d as Et,b as Fe,f as Oe,w as Ae,r as _t,i as be,h as Nt,a7 as Gt}from"./index-1db35709.js";function $e(e,l,a){return Object.keys(e).filter(t=>Pt(t)&&t.endsWith(l)).reduce((t,n)=>(t[n.slice(0,-l.length)]=r=>e[n](r,a(r)),t),{})}const Re=k({page:{type:[Number,String],default:1},itemsPerPage:{type:[Number,String],default:10}},"DataTable-paginate"),Le=Symbol.for("vuetify:data-table-pagination");function Me(e){const l=L(e,"page",void 0,t=>+(t??1)),a=L(e,"itemsPerPage",void 0,t=>+(t??10));return{page:l,itemsPerPage:a}}function je(e){const{page:l,itemsPerPage:a,itemsLength:t}=e,n=P(()=>a.value===-1?0:a.value*(l.value-1)),r=P(()=>a.value===-1?t.value:Math.min(t.value,n.value+a.value)),d=P(()=>a.value===-1||t.value===0?1:Math.ceil(t.value/a.value));Ee(()=>{l.value>d.value&&(l.value=d.value)});function u(s){a.value=s,l.value=1}function o(){l.value=me(l.value+1,1,d.value)}function f(){l.value=me(l.value-1,1,d.value)}function c(s){l.value=me(s,1,d.value)}const i={page:l,itemsPerPage:a,startIndex:n,stopIndex:r,pageCount:d,itemsLength:t,nextPage:o,prevPage:f,setPage:c,setItemsPerPage:u};return E(Le,i),i}function Ht(){const e=j(Le);if(!e)throw new Error("Missing pagination!");return e}function Rt(e){const{items:l,startIndex:a,stopIndex:t,itemsPerPage:n}=e;return{paginatedItems:P(()=>n.value<=0?l.value:l.value.slice(a.value,t.value))}}const Se=k({prevIcon:{type:String,default:"$prev"},nextIcon:{type:String,default:"$next"},firstIcon:{type:String,default:"$first"},lastIcon:{type:String,default:"$last"},itemsPerPageText:{type:String,default:"$vuetify.dataFooter.itemsPerPageText"},pageText:{type:String,default:"$vuetify.dataFooter.pageText"},firstPageLabel:{type:String,default:"$vuetify.dataFooter.firstPage"},prevPageLabel:{type:String,default:"$vuetify.dataFooter.prevPage"},nextPageLabel:{type:String,default:"$vuetify.dataFooter.nextPage"},lastPageLabel:{type:String,default:"$vuetify.dataFooter.lastPage"},itemsPerPageOptions:{type:Array,default:()=>[{value:10,title:"10"},{value:25,title:"25"},{value:50,title:"50"},{value:100,title:"100"},{value:-1,title:"$vuetify.dataFooter.itemsPerPageAll"}]},showCurrentPage:Boolean},"VDataTableFooter"),ne=_()({name:"VDataTableFooter",props:Se(),setup(e,l){let{slots:a}=l;const{t}=he(),{page:n,pageCount:r,startIndex:d,stopIndex:u,itemsLength:o,itemsPerPage:f,setItemsPerPage:c}=Ht(),i=P(()=>e.itemsPerPageOptions.map(s=>typeof s=="number"?{value:s,title:s===-1?t("$vuetify.dataFooter.itemsPerPageAll"):String(s)}:{...s,title:t(s.title)}));return U(()=>{var s;return g("div",{class:"v-data-table-footer"},[(s=a.prepend)==null?void 0:s.call(a),g("div",{class:"v-data-table-footer__items-per-page"},[g("span",null,[t(e.itemsPerPageText)]),g(St,{items:i.value,modelValue:f.value,"onUpdate:modelValue":m=>c(Number(m)),density:"compact",variant:"outlined","hide-details":!0},null)]),g("div",{class:"v-data-table-footer__info"},[g("div",null,[t(e.pageText,o.value?d.value+1:0,u.value,o.value)])]),g("div",{class:"v-data-table-footer__pagination"},[g(_e,{modelValue:n.value,"onUpdate:modelValue":m=>n.value=m,density:"comfortable","first-aria-label":e.firstPageLabel,"last-aria-label":e.lastPageLabel,length:r.value,"next-aria-label":e.nextPageLabel,"prev-aria-label":e.prevPageLabel,rounded:!0,"show-first-last-page":!0,"total-visible":e.showCurrentPage?1:0,variant:"plain"},null)])])}),{}}}),xe=xt({align:{type:String,default:"start"},fixed:Boolean,fixedOffset:[Number,String],height:[Number,String],lastFixed:Boolean,noPadding:Boolean,tag:String,width:[Number,String]},(e,l)=>{let{slots:a}=l;const t=e.tag??"td";return g(t,{class:["v-data-table__td",{"v-data-table-column--fixed":e.fixed,"v-data-table-column--last-fixed":e.lastFixed,"v-data-table-column--no-padding":e.noPadding},`v-data-table-column--align-${e.align}`],style:{height:R(e.height),width:R(e.width),left:R(e.fixedOffset||null)}},{default:()=>{var n;return[(n=a.default)==null?void 0:n.call(a)]}})}),Lt=k({headers:Array},"DataTable-header"),Ue=Symbol.for("vuetify:data-table-headers"),qe={title:"",sortable:!1},Mt={...qe,width:48};function jt(){const l=(arguments.length>0&&arguments[0]!==void 0?arguments[0]:[]).map(a=>({element:a,priority:0}));return{enqueue:(a,t)=>{let n=!1;for(let r=0;r<l.length;r++)if(l[r].priority>t){l.splice(r,0,{element:a,priority:t}),n=!0;break}n||l.push({element:a,priority:t})},size:()=>l.length,count:()=>{let a=0;if(!l.length)return 0;const t=Math.floor(l[0].priority);for(let n=0;n<l.length;n++)Math.floor(l[n].priority)===t&&(a+=1);return a},dequeue:()=>l.shift()}}function ye(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(!e.children)l.push(e);else for(const a of e.children)ye(a,l);return l}function We(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set;for(const a of e)a.key&&l.add(a.key),a.children&&We(a.children,l);return l}function Ut(e){if(e.key){if(e.key==="data-table-group")return qe;if(["data-table-expand","data-table-select"].includes(e.key))return Mt}}function we(e){let l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return e.children?Math.max(l,...e.children.map(a=>we(a,l+1))):l}function qt(e){let l=!1;function a(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(r)if(d&&(r.fixed=!0),r.fixed)if(r.children)for(let u=r.children.length-1;u>=0;u--)a(r.children[u],!0);else l?isNaN(+r.width)&&kt(`Multiple fixed columns should have a static width (key: ${r.key})`):r.lastFixed=!0,l=!0;else if(r.children)for(let u=r.children.length-1;u>=0;u--)a(r.children[u]);else l=!1}for(let r=e.length-1;r>=0;r--)a(e[r]);function t(r){let d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(!r)return d;if(r.children){r.fixedOffset=d;for(const u of r.children)d=t(u,d)}else r.fixed&&(r.fixedOffset=d,d+=parseFloat(r.width||"0")||0);return d}let n=0;for(const r of e)n=t(r,n)}function Wt(e,l){const a=[];let t=0;const n=jt(e);for(;n.size()>0;){let d=n.count();const u=[];let o=1;for(;d>0;){const{element:f,priority:c}=n.dequeue(),i=l-t-we(f);if(u.push({...f,rowspan:i??1,colspan:f.children?ye(f).length:1}),f.children)for(const s of f.children){const m=c%1+o/Math.pow(10,t+2);n.enqueue(s,t+i+m)}o+=1,d-=1}t+=1,a.push(u)}return{columns:e.map(d=>ye(d)).flat(),headers:a}}function ze(e){const l=[];for(const a of e){const t={...Ut(a),...a},n=t.key??(typeof t.value=="string"?t.value:null),r=t.value??n??null,d={...t,key:n,value:r,sortable:t.sortable??(t.key!=null||!!t.sort),children:t.children?ze(t.children):void 0};l.push(d)}return l}function Ke(e,l){const a=V([]),t=V([]),n=V(),r=V();Ee(()=>{var h,y,v;const o=(e.headers||Object.keys(e.items[0]??{}).map(b=>({key:b,title:wt(b)}))).slice(),f=We(o);(h=l==null?void 0:l.groupBy)!=null&&h.value.length&&!f.has("data-table-group")&&o.unshift({key:"data-table-group",title:"Group"}),(y=l==null?void 0:l.showSelect)!=null&&y.value&&!f.has("data-table-select")&&o.unshift({key:"data-table-select"}),(v=l==null?void 0:l.showExpand)!=null&&v.value&&!f.has("data-table-expand")&&o.push({key:"data-table-expand"});const c=ze(o);qt(c);const i=Math.max(...c.map(b=>we(b)))+1,s=Wt(c,i);a.value=s.headers,t.value=s.columns;const m=s.headers.flat(1);n.value=m.reduce((b,S)=>(S.sortable&&S.key&&S.sort&&(b[S.key]=S.sort),b),{}),r.value=m.reduce((b,S)=>(S.key&&S.filter&&(b[S.key]=S.filter),b),{})});const d={headers:a,columns:t,sortFunctions:n,filterFunctions:r};return E(Ue,d),d}function ue(){const e=j(Ue);if(!e)throw new Error("Missing headers!");return e}const zt={showSelectAll:!1,allSelected:()=>[],select:e=>{var t;let{items:l,value:a}=e;return new Set(a?[(t=l[0])==null?void 0:t.value]:[])},selectAll:e=>{let{selected:l}=e;return l}},Qe={showSelectAll:!0,allSelected:e=>{let{currentPage:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,currentPage:a,selected:t}=e;return Qe.select({items:a,value:l,selected:t})}},Xe={showSelectAll:!0,allSelected:e=>{let{allItems:l}=e;return l},select:e=>{let{items:l,value:a,selected:t}=e;for(const n of l)a?t.add(n.value):t.delete(n.value);return t},selectAll:e=>{let{value:l,allItems:a,selected:t}=e;return Xe.select({items:a,value:l,selected:t})}},Kt=k({showSelect:Boolean,selectStrategy:{type:[String,Object],default:"page"},modelValue:{type:Array,default:()=>[]},valueComparator:{type:Function,default:Ne}},"DataTable-select"),Ye=Symbol.for("vuetify:data-table-selection");function Ze(e,l){let{allItems:a,currentPage:t}=l;const n=L(e,"modelValue",e.modelValue,v=>new Set(ve(v).map(b=>{var S;return((S=a.value.find(x=>e.valueComparator(b,x.value)))==null?void 0:S.value)??b})),v=>[...v.values()]),r=P(()=>a.value.filter(v=>v.selectable)),d=P(()=>t.value.filter(v=>v.selectable)),u=P(()=>{if(typeof e.selectStrategy=="object")return e.selectStrategy;switch(e.selectStrategy){case"single":return zt;case"all":return Xe;case"page":default:return Qe}});function o(v){return ve(v).every(b=>n.value.has(b.value))}function f(v){return ve(v).some(b=>n.value.has(b.value))}function c(v,b){const S=u.value.select({items:v,value:b,selected:new Set(n.value)});n.value=S}function i(v){c([v],!o([v]))}function s(v){const b=u.value.selectAll({value:v,allItems:r.value,currentPage:d.value,selected:new Set(n.value)});n.value=b}const m=P(()=>n.value.size>0),h=P(()=>{const v=u.value.allSelected({allItems:r.value,currentPage:d.value});return!!v.length&&o(v)}),y={toggleSelect:i,select:c,selectAll:s,isSelected:o,isSomeSelected:f,someSelected:m,allSelected:h,showSelectAll:u.value.showSelectAll};return E(Ye,y),y}function se(){const e=j(Ye);if(!e)throw new Error("Missing selection!");return e}const Qt=k({sortBy:{type:Array,default:()=>[]},customKeySort:Object,multiSort:Boolean,mustSort:Boolean},"DataTable-sort"),Je=Symbol.for("vuetify:data-table-sort");function et(e){const l=L(e,"sortBy"),a=w(e,"mustSort"),t=w(e,"multiSort");return{sortBy:l,mustSort:a,multiSort:t}}function tt(e){const{sortBy:l,mustSort:a,multiSort:t,page:n}=e,r=o=>{if(o.key==null)return;let f=l.value.map(i=>({...i}))??[];const c=f.find(i=>i.key===o.key);c?c.order==="desc"?a.value?c.order="asc":f=f.filter(i=>i.key!==o.key):c.order="desc":t.value?f=[...f,{key:o.key,order:"asc"}]:f=[{key:o.key,order:"asc"}],l.value=f,n&&(n.value=1)};function d(o){return!!l.value.find(f=>f.key===o.key)}const u={sortBy:l,toggleSort:r,isSorted:d};return E(Je,u),u}function Xt(){const e=j(Je);if(!e)throw new Error("Missing sort!");return e}function Yt(e,l,a,t){const n=he();return{sortedItems:P(()=>a.value.length?Zt(l.value,a.value,n.current.value,{...e.customKeySort,...t==null?void 0:t.value}):l.value)}}function Zt(e,l,a,t){const n=new Intl.Collator(a,{sensitivity:"accent",usage:"sort"});return[...e].sort((r,d)=>{for(let u=0;u<l.length;u++){const o=l[u].key,f=l[u].order??"asc";if(f===!1)continue;let c=ae(r.raw,o),i=ae(d.raw,o);if(f==="desc"&&([c,i]=[i,c]),t!=null&&t[o]){const s=t[o](c,i);if(!s)continue;return s}if(c instanceof Date&&i instanceof Date)return c.getTime()-i.getTime();if([c,i]=[c,i].map(s=>s!=null?s.toString().toLocaleLowerCase():s),c!==i)return J(c)&&J(i)?0:J(c)?-1:J(i)?1:!isNaN(c)&&!isNaN(i)?Number(c)-Number(i):n.compare(c,i)}return 0})}const at=k({color:String,sticky:Boolean,multiSort:Boolean,sortAscIcon:{type:Be,default:"$sortAsc"},sortDescIcon:{type:Be,default:"$sortDesc"},...Tt()},"VDataTableHeaders"),re=_()({name:"VDataTableHeaders",props:at(),setup(e,l){let{slots:a}=l;const{toggleSort:t,sortBy:n,isSorted:r}=Xt(),{someSelected:d,allSelected:u,selectAll:o,showSelectAll:f}=se(),{columns:c,headers:i}=ue(),{loaderClasses:s}=Dt(e);function m(x,p){if(!(!e.sticky&&!x.fixed))return{position:"sticky",left:x.fixed?R(x.fixedOffset):void 0,top:e.sticky?`calc(var(--v-table-header-height) * ${p})`:void 0}}function h(x){const p=n.value.find(I=>I.key===x.key);return p?p.order==="asc"?e.sortAscIcon:e.sortDescIcon:e.sortAscIcon}const{backgroundColorClasses:y,backgroundColorStyles:v}=It(e,"color"),b=P(()=>({headers:i.value,columns:c.value,toggleSort:t,isSorted:r,sortBy:n.value,someSelected:d.value,allSelected:u.value,selectAll:o,getSortIcon:h})),S=x=>{let{column:p,x:I,y:F}=x;const q=p.key==="data-table-select"||p.key==="data-table-expand";return g(xe,B({tag:"th",align:p.align,class:["v-data-table__th",{"v-data-table__th--sortable":p.sortable,"v-data-table__th--sorted":r(p),"v-data-table__th--fixed":p.fixed},s.value],style:{width:R(p.width),minWidth:R(p.minWidth),...m(p,F)},colspan:p.colspan,rowspan:p.rowspan,onClick:p.sortable?()=>t(p):void 0,fixed:p.fixed,lastFixed:p.lastFixed,noPadding:q},p.headerProps),{default:()=>{var G;const O=`header.${p.key}`,N={column:p,selectAll:o,isSorted:r,toggleSort:t,sortBy:n.value,someSelected:d.value,allSelected:u.value,getSortIcon:h};return a[O]?a[O](N):p.key==="data-table-select"?((G=a["header.data-table-select"])==null?void 0:G.call(a,N))??(f&&g(Pe,{modelValue:u.value,indeterminate:d.value&&!u.value,"onUpdate:modelValue":o},null)):g("div",{class:"v-data-table-header__content"},[g("span",null,[p.title]),p.sortable&&g(Bt,{key:"icon",class:"v-data-table-header__sort-icon",icon:h(p)},null),e.multiSort&&r(p)&&g("div",{key:"badge",class:["v-data-table-header__sort-badge",...y.value],style:v.value},[n.value.findIndex(W=>W.key===p.key)+1])])}})};U(()=>g(M,null,[a.headers?a.headers(b.value):i.value.map((x,p)=>g("tr",null,[x.map((I,F)=>g(S,{column:I,x:F,y:p},null))])),e.loading&&g("tr",{class:"v-data-table-progress"},[g("th",{colspan:c.value.length},[g(Vt,{name:"v-data-table-progress",active:!0,color:typeof e.loading=="boolean"?void 0:e.loading,indeterminate:!0},{default:a.loader})])])]))}}),Jt=k({groupBy:{type:Array,default:()=>[]}},"DataTable-group"),lt=Symbol.for("vuetify:data-table-group");function nt(e){return{groupBy:L(e,"groupBy")}}function rt(e){const{groupBy:l,sortBy:a}=e,t=V(new Set),n=P(()=>l.value.map(f=>({...f,order:f.order??!1})).concat(a.value));function r(f){return t.value.has(f.id)}function d(f){const c=new Set(t.value);r(f)?c.delete(f.id):c.add(f.id),t.value=c}function u(f){function c(i){const s=[];for(const m of i.items)"type"in m&&m.type==="group"?s.push(...c(m)):s.push(m);return s}return c({type:"group",items:f,id:"dummy",key:"dummy",value:"dummy",depth:0})}const o={sortByWithGroups:n,toggleGroup:d,opened:t,groupBy:l,extractRows:u,isGroupOpen:r};return E(lt,o),o}function ot(){const e=j(lt);if(!e)throw new Error("Missing group!");return e}function ea(e,l){if(!e.length)return[];const a=new Map;for(const t of e){const n=ae(t.raw,l);a.has(n)||a.set(n,[]),a.get(n).push(t)}return a}function ut(e,l){let a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"root";if(!l.length)return[];const n=ea(e,l[0]),r=[],d=l.slice(1);return n.forEach((u,o)=>{const f=l[0],c=`${t}_${f}_${o}`;r.push({depth:a,id:c,key:f,value:o,items:d.length?ut(u,d,a+1,c):u,type:"group"})}),r}function st(e,l){const a=[];for(const t of e)"type"in t&&t.type==="group"?(t.value!=null&&a.push(t),(l.has(t.id)||t.value==null)&&a.push(...st(t.items,l))):a.push(t);return a}function it(e,l,a){return{flatItems:P(()=>{if(!l.value.length)return e.value;const n=ut(e.value,l.value.map(r=>r.key));return st(n,a.value)})}}const ta=k({item:{type:Object,required:!0}},"VDataTableGroupHeaderRow"),aa=_()({name:"VDataTableGroupHeaderRow",props:ta(),setup(e,l){let{slots:a}=l;const{isGroupOpen:t,toggleGroup:n,extractRows:r}=ot(),{isSelected:d,isSomeSelected:u,select:o}=se(),{columns:f}=ue(),c=P(()=>r([e.item]));return()=>g("tr",{class:"v-data-table-group-header-row",style:{"--v-data-table-group-header-row-depth":e.item.depth}},[f.value.map(i=>{var s,m;if(i.key==="data-table-group"){const h=t(e.item)?"$expand":"$next",y=()=>n(e.item);return((s=a["data-table-group"])==null?void 0:s.call(a,{item:e.item,count:c.value.length,props:{icon:h,onClick:y}}))??g(xe,{class:"v-data-table-group-header-row__column"},{default:()=>[g(Ge,{size:"small",variant:"text",icon:h,onClick:y},null),g("span",null,[e.item.value]),g("span",null,[Q("("),c.value.length,Q(")")])]})}if(i.key==="data-table-select"){const h=d(c.value),y=u(c.value)&&!h,v=b=>o(c.value,b);return((m=a["data-table-select"])==null?void 0:m.call(a,{props:{modelValue:h,indeterminate:y,"onUpdate:modelValue":v}}))??g("td",null,[g(Pe,{modelValue:h,indeterminate:y,"onUpdate:modelValue":v},null)])}return g("td",null,null)})])}}),la=k({expandOnClick:Boolean,showExpand:Boolean,expanded:{type:Array,default:()=>[]}},"DataTable-expand"),dt=Symbol.for("vuetify:datatable:expanded");function ct(e){const l=w(e,"expandOnClick"),a=L(e,"expanded",e.expanded,u=>new Set(u),u=>[...u.values()]);function t(u,o){const f=new Set(a.value);o?f.add(u.value):f.delete(u.value),a.value=f}function n(u){return a.value.has(u.value)}function r(u){t(u,!n(u))}const d={expand:t,expanded:a,expandOnClick:l,isExpanded:n,toggleExpand:r};return E(dt,d),d}function ft(){const e=j(dt);if(!e)throw new Error("foo");return e}const na=k({index:Number,item:Object,cellProps:[Object,Function],onClick:pe(),onContextmenu:pe(),onDblclick:pe()},"VDataTableRow"),ra=_()({name:"VDataTableRow",props:na(),setup(e,l){let{slots:a}=l;const{isSelected:t,toggleSelect:n}=se(),{isExpanded:r,toggleExpand:d}=ft(),{columns:u}=ue();U(()=>g("tr",{class:["v-data-table__tr",{"v-data-table__tr--clickable":!!(e.onClick||e.onContextmenu||e.onDblclick)}],onClick:e.onClick,onContextmenu:e.onContextmenu,onDblclick:e.onDblclick},[e.item&&u.value.map((o,f)=>{const c=e.item,i=`item.${o.key}`,s={index:e.index,item:c.raw,internalItem:c,value:ae(c.columns,o.key),column:o,isSelected:t,toggleSelect:n,isExpanded:r,toggleExpand:d},m=typeof e.cellProps=="function"?e.cellProps({index:s.index,item:s.item,internalItem:s.internalItem,value:s.value,column:o}):e.cellProps,h=typeof o.cellProps=="function"?o.cellProps({index:s.index,item:s.item,internalItem:s.internalItem,value:s.value}):o.cellProps;return g(xe,B({align:o.align,fixed:o.fixed,fixedOffset:o.fixedOffset,lastFixed:o.lastFixed,noPadding:o.key==="data-table-select"||o.key==="data-table-expand",width:o.width},m,h),{default:()=>{var y,v;return a[i]?a[i](s):o.key==="data-table-select"?((y=a["item.data-table-select"])==null?void 0:y.call(a,s))??g(Pe,{disabled:!c.selectable,modelValue:t([c]),onClick:Ce(()=>n(c),["stop"])},null):o.key==="data-table-expand"?((v=a["item.data-table-expand"])==null?void 0:v.call(a,s))??g(Ge,{icon:r(c)?"$collapse":"$expand",size:"small",variant:"text",onClick:Ce(()=>d(c),["stop"])},null):$(s.value)}})})]))}}),gt=k({loading:[Boolean,String],loadingText:{type:String,default:"$vuetify.dataIterator.loadingText"},hideNoData:Boolean,items:{type:Array,default:()=>[]},noDataText:{type:String,default:"$vuetify.noDataText"},rowProps:[Object,Function],cellProps:[Object,Function]},"VDataTableRows"),oe=_()({name:"VDataTableRows",inheritAttrs:!1,props:gt(),setup(e,l){let{attrs:a,slots:t}=l;const{columns:n}=ue(),{expandOnClick:r,toggleExpand:d,isExpanded:u}=ft(),{isSelected:o,toggleSelect:f}=se(),{toggleGroup:c,isGroupOpen:i}=ot(),{t:s}=he();return U(()=>{var m,h;return e.loading?g("tr",{class:"v-data-table-rows-loading",key:"loading"},[g("td",{colspan:n.value.length},[((m=t.loading)==null?void 0:m.call(t))??s(e.loadingText)])]):!e.loading&&!e.items.length&&!e.hideNoData?g("tr",{class:"v-data-table-rows-no-data",key:"no-data"},[g("td",{colspan:n.value.length},[((h=t["no-data"])==null?void 0:h.call(t))??s(e.noDataText)])]):g(M,null,[e.items.map((y,v)=>{var x;if(y.type==="group"){const p={index:v,item:y,columns:n.value,isExpanded:u,toggleExpand:d,isSelected:o,toggleSelect:f,toggleGroup:c,isGroupOpen:i};return t["group-header"]?t["group-header"](p):g(aa,B({key:`group-header_${y.id}`,item:y},$e(a,":group-header",()=>p)),t)}const b={index:v,item:y.raw,internalItem:y,columns:n.value,isExpanded:u,toggleExpand:d,isSelected:o,toggleSelect:f},S={...b,props:B({key:`item_${y.key??y.index}`,onClick:r.value?()=>{d(y)}:void 0,index:v,item:y,cellProps:e.cellProps},$e(a,":row",()=>b),typeof e.rowProps=="function"?e.rowProps({item:b.item,index:b.index,internalItem:b.internalItem}):e.rowProps)};return g(M,{key:S.props.key},[t.item?t.item(S):g(ra,S.props,t),u(y)&&((x=t["expanded-row"])==null?void 0:x.call(t,b))])})])}),{}}}),oa=k({items:{type:Array,default:()=>[]},itemValue:{type:[String,Array,Function],default:"id"},itemSelectable:{type:[String,Array,Function],default:null},rowProps:[Object,Function],cellProps:[Object,Function],returnObject:Boolean},"DataTable-items");function ua(e,l,a,t){const n=e.returnObject?l:ee(l,e.itemValue),r=ee(l,e.itemSelectable,!0),d=t.reduce((u,o)=>(o.key!=null&&(u[o.key]=ee(l,o.value)),u),{});return{type:"item",key:e.returnObject?ee(l,e.itemValue):n,index:a,value:n,selectable:r,columns:d,raw:l}}function sa(e,l,a){return l.map((t,n)=>ua(e,t,n,a))}function mt(e,l){return{items:P(()=>sa(e,e.items,l.value))}}function vt(e){let{page:l,itemsPerPage:a,sortBy:t,groupBy:n,search:r}=e;const d=Ct("VDataTable"),u=P(()=>({page:l.value,itemsPerPage:a.value,sortBy:t.value,groupBy:n.value,search:r.value}));let o=null;te(u,()=>{Ne(o,u.value)||((o==null?void 0:o.search)!==u.value.search&&(l.value=1),d.emit("update:options",u.value),o=u.value)},{deep:!0,immediate:!0})}const pt=k({...gt(),width:[String,Number],search:String,...la(),...Jt(),...Lt(),...oa(),...Kt(),...Qt(),...at(),...Ft()},"DataTable"),ia=k({...Re(),...pt(),...Ot(),...Se()},"VDataTable");_()({name:"VDataTable",props:ia(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:groupBy":e=>!0,"update:expanded":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=nt(e),{sortBy:r,multiSort:d,mustSort:u}=et(e),{page:o,itemsPerPage:f}=Me(e),{columns:c,headers:i,sortFunctions:s,filterFunctions:m}=Ke(e,{groupBy:n,showSelect:w(e,"showSelect"),showExpand:w(e,"showExpand")}),{items:h}=mt(e,c),y=w(e,"search"),{filteredItems:v}=At(e,h,y,{transform:C=>C.columns,customKeyFilter:m}),{toggleSort:b}=tt({sortBy:r,multiSort:d,mustSort:u,page:o}),{sortByWithGroups:S,opened:x,extractRows:p,isGroupOpen:I,toggleGroup:F}=rt({groupBy:n,sortBy:r}),{sortedItems:q}=Yt(e,v,S,s),{flatItems:O}=it(q,n,x),N=P(()=>O.value.length),{startIndex:G,stopIndex:W,pageCount:ie,setItemsPerPage:de}=je({page:o,itemsPerPage:f,itemsLength:N}),{paginatedItems:H}=Rt({items:O,startIndex:G,stopIndex:W,itemsPerPage:f}),T=P(()=>p(H.value)),{isSelected:z,select:ce,selectAll:fe,toggleSelect:ge,someSelected:A,allSelected:X}=Ze(e,{allItems:h,currentPage:T}),{isExpanded:Y,toggleExpand:Z}=ct(e);vt({page:o,itemsPerPage:f,sortBy:r,groupBy:n,search:y}),He({VDataTableRows:{hideNoData:w(e,"hideNoData"),noDataText:w(e,"noDataText"),loading:w(e,"loading"),loadingText:w(e,"loadingText")}});const D=P(()=>({page:o.value,itemsPerPage:f.value,sortBy:r.value,pageCount:ie.value,toggleSort:b,setItemsPerPage:de,someSelected:A.value,allSelected:X.value,isSelected:z,select:ce,selectAll:fe,toggleSelect:ge,isExpanded:Y,toggleExpand:Z,isGroupOpen:I,toggleGroup:F,items:T.value.map(C=>C.raw),internalItems:T.value,groupedItems:H.value,columns:c.value,headers:i.value}));return U(()=>{const C=ne.filterProps(e),bt=re.filterProps(e),yt=oe.filterProps(e),ht=le.filterProps(e);return g(le,B({class:["v-data-table",{"v-data-table--show-select":e.showSelect,"v-data-table--loading":e.loading},e.class],style:e.style},ht),{top:()=>{var K;return(K=t.top)==null?void 0:K.call(t,D.value)},default:()=>{var K,ke,Te,De,Ie,Ve;return t.default?t.default(D.value):g(M,null,[(K=t.colgroup)==null?void 0:K.call(t,D.value),g("thead",null,[g(re,bt,t)]),(ke=t.thead)==null?void 0:ke.call(t,D.value),g("tbody",null,[(Te=t["body.prepend"])==null?void 0:Te.call(t,D.value),t.body?t.body(D.value):g(oe,B(a,yt,{items:H.value}),t),(De=t["body.append"])==null?void 0:De.call(t,D.value)]),(Ie=t.tbody)==null?void 0:Ie.call(t,D.value),(Ve=t.tfoot)==null?void 0:Ve.call(t,D.value)])},bottom:()=>t.bottom?t.bottom(D.value):g(M,null,[g($t,null,null),g(ne,C,{prepend:t["footer.prepend"]})])})}),{}}});const da=k({itemsLength:{type:[Number,String],required:!0},...Re(),...pt(),...Se()},"VDataTableServer"),ca=_()({name:"VDataTableServer",props:da(),emits:{"update:modelValue":e=>!0,"update:page":e=>!0,"update:itemsPerPage":e=>!0,"update:sortBy":e=>!0,"update:options":e=>!0,"update:expanded":e=>!0,"update:groupBy":e=>!0},setup(e,l){let{attrs:a,slots:t}=l;const{groupBy:n}=nt(e),{sortBy:r,multiSort:d,mustSort:u}=et(e),{page:o,itemsPerPage:f}=Me(e),c=P(()=>parseInt(e.itemsLength,10)),{columns:i,headers:s}=Ke(e,{groupBy:n,showSelect:w(e,"showSelect"),showExpand:w(e,"showExpand")}),{items:m}=mt(e,i),{toggleSort:h}=tt({sortBy:r,multiSort:d,mustSort:u,page:o}),{opened:y,isGroupOpen:v,toggleGroup:b,extractRows:S}=rt({groupBy:n,sortBy:r}),{pageCount:x,setItemsPerPage:p}=je({page:o,itemsPerPage:f,itemsLength:c}),{flatItems:I}=it(m,n,y),{isSelected:F,select:q,selectAll:O,toggleSelect:N,someSelected:G,allSelected:W}=Ze(e,{allItems:m,currentPage:m}),{isExpanded:ie,toggleExpand:de}=ct(e),H=P(()=>S(m.value));vt({page:o,itemsPerPage:f,sortBy:r,groupBy:n,search:w(e,"search")}),E("v-data-table",{toggleSort:h,sortBy:r}),He({VDataTableRows:{hideNoData:w(e,"hideNoData"),noDataText:w(e,"noDataText"),loading:w(e,"loading"),loadingText:w(e,"loadingText")}});const T=P(()=>({page:o.value,itemsPerPage:f.value,sortBy:r.value,pageCount:x.value,toggleSort:h,setItemsPerPage:p,someSelected:G.value,allSelected:W.value,isSelected:F,select:q,selectAll:O,toggleSelect:N,isExpanded:ie,toggleExpand:de,isGroupOpen:v,toggleGroup:b,items:H.value.map(z=>z.raw),internalItems:H.value,groupedItems:I.value,columns:i.value,headers:s.value}));U(()=>{const z=ne.filterProps(e),ce=re.filterProps(e),fe=oe.filterProps(e),ge=le.filterProps(e);return g(le,B({class:["v-data-table",{"v-data-table--loading":e.loading},e.class],style:e.style},ge),{top:()=>{var A;return(A=t.top)==null?void 0:A.call(t,T.value)},default:()=>{var A,X,Y,Z,D,C;return t.default?t.default(T.value):g(M,null,[(A=t.colgroup)==null?void 0:A.call(t,T.value),g("thead",{class:"v-data-table__thead",role:"rowgroup"},[g(re,B(ce,{sticky:e.fixedHeader}),t)]),(X=t.thead)==null?void 0:X.call(t,T.value),g("tbody",{class:"v-data-table__tbody",role:"rowgroup"},[(Y=t["body.prepend"])==null?void 0:Y.call(t,T.value),t.body?t.body(T.value):g(oe,B(a,fe,{items:I.value}),t),(Z=t["body.append"])==null?void 0:Z.call(t,T.value)]),(D=t.tbody)==null?void 0:D.call(t,T.value),(C=t.tfoot)==null?void 0:C.call(t,T.value)])},bottom:()=>t.bottom?t.bottom(T.value):g(ne,z,{prepend:t["footer.prepend"]})})})}}),fa={class:"data-table-server-wrapper"},ga={key:0,class:"d-flex justify-space-between align-center mt-4"},ma={class:"text-muted"},va=Et({__name:"DataTableServer",props:{headers:{type:Array,required:!0},items:{type:Array,default:()=>[]},itemsPerPage:{type:Number,default:10},totalItems:{type:Number,default:0},loading:{type:Boolean,default:!1},searchQuery:{type:String,default:""},prevIcon:{type:String,default:"ph-arrow-left"},nextIcon:{type:String,default:"ph-arrow-right"},showPagination:{type:Boolean,default:!0},modelValue:{type:Array,default:()=>[]},itemValue:{type:[String,Function],default:"id"},searchProps:{type:String,default:""}},emits:["load-items","update:page","update:itemsPerPage","update:modelValue"],setup(e,{emit:l}){const a=e,t=l,n=V(1),r=V(a.itemsPerPage),d=V(a.items),u=V(a.modelValue),o=P(()=>{const i={key:"data-table-select",title:"",sortable:!1,width:"48px"},s=a.headers.map(m=>{const h=m.align==="center"?"center":m.align==="end"?"end":"start";return{key:m.key||m.value||"",title:m.title,sortable:m.sortable!==!1,align:h,value:m.value}});return[i,...s]});P(()=>a.headers.map(i=>({...i,alignClass:{"text-start":!i.align,"text-center":i.align==="center","text-end":i.align==="end"}})));const f=P(()=>Math.ceil(a.totalItems/r.value));te(()=>a.items,i=>{d.value=i},{deep:!0}),te(()=>a.modelValue,i=>{u.value=i}),te(u,i=>{t("update:modelValue",i)},{deep:!0});const c=async({page:i,itemsPerPage:s,sortBy:m})=>{n.value=i,r.value=s,t("load-items",{page:i,itemsPerPage:s,sortBy:m,search:a.searchQuery,searchProps:a.searchProps})};return(i,s)=>(Fe(),Oe("div",fa,[g(ca,{"items-per-page":r.value,"onUpdate:itemsPerPage":s[1]||(s[1]=m=>r.value=m),page:n.value,"onUpdate:page":s[2]||(s[2]=m=>n.value=m),modelValue:u.value,"onUpdate:modelValue":s[3]||(s[3]=m=>u.value=m),headers:o.value,"items-length":e.totalItems,items:d.value,loading:e.loading,search:e.searchQuery,"onUpdate:options":c,class:"table-component",density:"compact","item-value":e.itemValue,"show-select":!0,"return-object":""},{body:Ae(({items:m})=>[_t(i.$slots,"body",{items:m},void 0,!0)]),bottom:Ae(()=>[e.showPagination?(Fe(),Oe("div",ga,[be("div",ma,[Q($(i.$t("t-showing"))+" ",1),be("b",null,$((n.value-1)*r.value+1)+"-"+$(Math.min(n.value*r.value,e.totalItems)),1),Q(" "+$(i.$t("t-of"))+" ",1),be("b",null,$(e.totalItems),1),Q(" "+$(i.$t("t-results")),1)]),g(_e,{modelValue:n.value,"onUpdate:modelValue":s[0]||(s[0]=m=>n.value=m),length:f.value,density:"compact",color:"primary",variant:"text","total-visible":"3","prev-icon":e.prevIcon,"next-icon":e.nextIcon,class:"table-pagination"},null,8,["modelValue","length","prev-icon","next-icon"])])):Nt("",!0)]),_:3},8,["items-per-page","page","modelValue","headers","items-length","items","loading","search","item-value"])]))}});const ba=Gt(va,[["__scopeId","data-v-f59d1a47"]]);export{ba as D};
