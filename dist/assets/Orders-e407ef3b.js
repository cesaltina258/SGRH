import{d as B,bj as Z,c as H,l as u,dr as X,M as I,B as P,b as y,e as S,w as n,C as Q,bk as J,x as t,i as s,h as q,D as W,X as k,ab as ee,S as E,a1 as te,a2 as G,g as $,ds as le,V as Y,G as L,dt as ae,aE as se,du as oe,a3 as ue,T as M,dv as K,L as ne,m as re,f as A,O as de,F as N,aF as ie,R as ce,aG as me,dw as ve,E as pe,W as _e,I as b,H as fe,bh as ge,dx as Ve,dy as he,dz as ye}from"./index-96068b83.js";import{_ as be}from"./Status.vue_vue_type_script_setup_true_lang-2b6dfc24.js";import{_ as Ce}from"./TableAction.vue_vue_type_script_setup_true_lang-c138a469.js";const Oe={class:"eCommerce-orders-calender simple-border"},De=s("i",{class:"ph ph-caret-down"},null,-1),xe=B({__name:"Chart",setup(T){const O=Z(),C=H(()=>O.layoutTheme),r=u(X(J)),c=u(r.value.ecommerceOrdersChart),o=new Date,_=new Date(o);_.setDate(o.getDate()+1);const f=u([o,_]);I(C,()=>{c.value=null,setTimeout(()=>{const v=X(J);c.value=v.ecommerceOrdersChart},200)});const V=v=>{const p=v.map(m=>k(m));return`${p[0]} to ${p[1]}`};return(v,p)=>{const m=P("VueDatePicker"),d=P("apexchart");return y(),S(Q,{class:"h-100"},{default:n(()=>[t(W,null,{default:n(()=>[s("div",Oe,[t(m,{modelValue:f.value,"onUpdate:modelValue":p[0]||(p[0]=h=>f.value=h),range:"",teleport:!0,height:"150","enable-time-picker":!1,format:V,clearable:!1,position:"left"},null,8,["modelValue"]),De]),c.value?(y(),S(d,{key:0,class:"apex-charts",height:"350",dir:"ltr",series:c.value.series,options:c.value.chartOptions},null,8,["series","options"])):q("",!0)]),_:1})]),_:1})}}}),ke=s("div",{class:"font-weight-bold mb-2"},"Customer Name",-1),Pe=s("div",{class:"font-weight-bold mb-2"},"Product",-1),$e=s("div",{class:"font-weight-bold mb-2"},"Order Date",-1),we=s("div",{class:"font-weight-bold mb-2 mt-3"},"Shop",-1),Ue=s("div",{class:"font-weight-bold mb-2"},"Payment Method",-1),Te=s("div",{class:"font-weight-bold mb-2 mt-3"},"Amount",-1),Ae=s("div",{class:"font-weight-bold mb-2"},"Shop Logo",-1),Se=s("div",{class:"font-weight-bold mb-2"},"Delivery Status",-1),Be=B({__name:"CreateUpdateOrderDialog",props:{modelValue:{type:Boolean,default:!1},selectedOrder:{type:Object,required:!0}},emits:["update:modelValue","onCreateUpdate"],setup(T,{emit:O}){const C=O,r=T,c=u(r.selectedOrder),o=u(""),_=u(c.value.customer),f=u(c.value.product),V=u(c.value.order_date),v=u(c.value.name),p=u(c.value.pay_method),m=u(c.value.price),d=u(c.value.delivery_status),h=u(c.value.img?[c.value.img]:[]),D=H({get(){return r.modelValue},set(w){C("update:modelValue",w)}}),F=()=>{if(_.value?f.value?V.value?v.value?p.value?m.value?h.value.length?d.value.length||(o.value="Please select delivery status"):o.value="Please enter product logo":o.value="Please enter amount":o.value="Please select payment method":o.value="Please enter a shop name":o.value="Please enter a order date":o.value="Please enter a product":o.value="Please enter a customer name",setTimeout(()=>{o.value=""},3e3),!_.value||!f.value||!V.value||!v.value||!p.value||!m.value||!d.value||!h.value.length)return;o.value="";const w={...r.selectedOrder,customer:_.value,product:f.value,order_date:V.value,name:v.value,pay_method:p.value,price:m.value,delivery_status:d.value,img:h.value[0]};C("onCreateUpdate",w)};return(w,a)=>{const U=P("TextField"),j=P("VueDatePicker"),R=P("Card");return y(),S(ee,{modelValue:D.value,"onUpdate:modelValue":a[10]||(a[10]=e=>D.value=e),width:"600",scrollable:""},{default:n(()=>[t(R,{title:"Add Order",titleClass:"bg-light"},{"title-action":n(()=>[t(E,{icon:"ph-x",density:"compact",variant:"plain",onClick:a[0]||(a[0]=e=>D.value=!1)})]),default:n(()=>[o.value?(y(),S(te,{key:0,text:o.value,variant:"tonal",color:"danger",class:"mx-5 mt-3",density:"compact"},null,8,["text"])):q("",!0),t(W,{"data-simplebar":"",style:{"max-height":"500px"}},{default:n(()=>[ke,t(U,{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=e=>_.value=e),placeholder:"Enter Name"},null,8,["modelValue"]),Pe,t(G,{modelValue:f.value,"onUpdate:modelValue":a[2]||(a[2]=e=>f.value=e),items:$(le)},null,8,["modelValue","items"]),t(Y,{class:"mt-2"},{default:n(()=>[t(L,{cols:""},{default:n(()=>[$e,t(j,{modelValue:V.value,"onUpdate:modelValue":a[3]||(a[3]=e=>V.value=e),teleport:!0,"enable-time-picker":!1,clearable:!1},null,8,["modelValue"]),we,t(U,{modelValue:v.value,"onUpdate:modelValue":a[4]||(a[4]=e=>v.value=e),placeholder:"Enter shop name"},null,8,["modelValue"])]),_:1}),t(L,{cols:""},{default:n(()=>[Ue,t(G,{modelValue:p.value,"onUpdate:modelValue":a[5]||(a[5]=e=>p.value=e),items:$(ae)},null,8,["modelValue","items"]),Te,t(U,{modelValue:m.value,"onUpdate:modelValue":a[6]||(a[6]=e=>m.value=e),placeholder:"Total Amount"},null,8,["modelValue"])]),_:1})]),_:1}),Ae,t(se,{modelValue:h.value,"onUpdate:modelValue":a[7]||(a[7]=e=>h.value=e),multiple:!1},null,8,["modelValue"]),Se,t(G,{modelValue:d.value,"onUpdate:modelValue":a[8]||(a[8]=e=>d.value=e),items:$(oe)},null,8,["modelValue","items"])]),_:1}),t(ue,{class:"d-flex justify-end pe-5 pb-3"},{default:n(()=>[s("div",null,[t(E,{color:"light",elevation:"0",variant:"elevated",class:"",onClick:a[9]||(a[9]=e=>D.value=!1)},{default:n(()=>[M(" Close ")]),_:1}),t(E,{color:"success",elevation:"0",variant:"elevated",class:"",onClick:F},{default:n(()=>[M(" Add Order ")]),_:1})])]),_:1})]),_:1})]),_:1},8,["modelValue"])}}}),Ie=s("i",{class:"ph-plus-circle px-1"},null,-1),Ee={class:"text-primary font-weight-bold"},Le={class:"text-subtitle-2 font-weight-bold"},Me=B({__name:"Listing",setup(T){const O=K.map(e=>({...e,isChecked:!1})),C=ne(),r=u(O.reverse()),c=u(r.value),o=u(!1),_=u(null),f=u(!1),V=u(null),v=u(1),p=H(()=>c.value.length),m=u([]),d=u({page:v.value,start:0,end:0,noOfItems:p.value,itemsPerPage:10}),h=()=>{const{itemsPerPage:e,page:i}=d.value,g=(i-1)*e;let l=g+e;l=l<=p.value?l:p.value,d.value={...d.value,start:g,end:l};const x=r.value.slice(d.value.start,d.value.end);m.value=[],setTimeout(()=>{m.value=x},200)};re(()=>{h()}),I(v,e=>{d.value.page=e,h()}),I(o,e=>{e||(_.value=null)}),I(f,e=>{e||(V.value=null)});const D=e=>{if(e===-1)_.value={id:e,order_date:new Date,delivery_date:Ve({endDay:5}),product:"",customer:"",img:"",name:"",pay_method:"",price:"",ratings:"4.5",delivery_status:""};else{const i=r.value.find(g=>g.id===e);i&&(_.value=i)}o.value=!0},F=e=>{const{delivery_date:i,order_date:g,img:l}=e,x={...e,id:K.length+1,img:l.src?l.src:l,order_date:k(g),delivery_date:k(i)};e.id===-1?r.value.unshift(x):r.value=r.value.map(z=>z.id===e.id?{...z,...e,order_date:k(g),delivery_date:k(i)}:z),U(r.value),o.value=!1},w=e=>{V.value=e,f.value=!0},a=()=>{r.value=r.value.filter(e=>e.id!==V.value),U(r.value),f.value=!1},U=e=>{const{itemsPerPage:i}=d.value,g=1;let l=g+i;l=l<=e.length?l:e.length,m.value=[],setTimeout(()=>{m.value=e,d.value={...d.value,start:g,end:l,noOfItems:e.length}},200)},j=()=>{C.push({path:"/ecommerce/order-overview"})},R=()=>{m.value=m.value.map(e=>({...e,isChecked:!e.isChecked}))};return(e,i)=>{const g=P("ListMenu");return y(),A(N,null,[t(Q,{class:"mt-5"},{default:n(()=>[t(ie,{class:"py-5"},{default:n(()=>[t(Y,{justify:"space-between"},{default:n(()=>[t(L,{cols:"5",lg:"3"},{default:n(()=>[t(ce,{placeholder:"Search for Order ID, customer, order status, etc..."})]),_:1}),t(L,{cols:"auto"},{default:n(()=>[t(g,{listItems:["Order Date","Order ID","Amount","Status"]}),t(E,{color:"primary",onClick:i[0]||(i[0]=l=>D(-1))},{default:n(()=>[Ie,M(" Add Order ")]),_:1})]),_:1})]),_:1})]),_:1}),t(W,null,{default:n(()=>[t(me,{modelValue:v.value,"onUpdate:modelValue":i[1]||(i[1]=l=>v.value=l),headerItems:$(ve),"is-pagination":"",config:d.value,onOnSelectAll:R},{body:n(()=>[(y(!0),A(N,null,pe(m.value,l=>(y(),A("tr",{key:"ecommerce-order-item-"+l.id},[s("td",null,[t(_e,{modelValue:l.isChecked,"onUpdate:modelValue":x=>l.isChecked=x,"hide-details":"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"])]),s("td",Ee," #TBS"+b(25e3+Number(l.id)),1),s("td",null,b($(k)(l.order_date)),1),s("td",null,b($(k)(l.delivery_date)),1),s("td",null,b(l.product),1),s("td",null,b(l.customer),1),s("td",null,[t(fe,{size:"small",density:"compact",class:"me-2"},{default:n(()=>[t(ge,{src:l.img},null,8,["src"])]),_:2},1024),M(" "+b(l.name),1)]),s("td",null,b(l.pay_method),1),s("td",null,b(l.price),1),s("td",Le,b(l.ratings),1),s("td",null,[t(be,{status:l.delivery_status},null,8,["status"])]),s("td",null,[t(Ce,{onOnView:j,onOnEdit:x=>D(l.id),onOnDelete:x=>w(l.id)},null,8,["onOnEdit","onOnDelete"])])]))),128))]),_:1},8,["modelValue","headerItems","config"])]),_:1})]),_:1}),_.value?(y(),S(Be,{key:0,modelValue:o.value,"onUpdate:modelValue":i[2]||(i[2]=l=>o.value=l),selectedOrder:_.value,onOnCreateUpdate:F},null,8,["modelValue","selectedOrder"])):q("",!0),t(de,{modelValue:f.value,"onUpdate:modelValue":i[3]||(i[3]=l=>f.value=l),onOnConfirm:a},null,8,["modelValue"])],64)}}}),Ne=B({__name:"index",setup(T){return(O,C)=>(y(),A(N,null,[t(xe),t(he,{class:"mt-5"}),t(Me,{class:"mt-5"})],64))}}),ze=B({__name:"Orders",setup(T){return(O,C)=>{const r=P("Breadcrumb");return y(),A(N,null,[t(r,{title:"Orders",items:$(ye)},null,8,["items"]),t(Ne)],64)}}});export{ze as default};
