import{Z as c,X as p}from"./index-1db35709.js";const y=c("employees",{state:()=>({employees:[],pagination:{totalElements:0,currentPage:0,itemsPerPage:10,totalPages:0},loading:!1,error:null,draftEmployee:null,currentEmployeeId:null}),actions:{async fetchEmployees(e,o,r="createdAt",l="asc",s,n){this.loading=!0,this.error=null;const i=e??this.pagination.currentPage,m=o??this.pagination.itemsPerPage;try{const{content:a,meta:t}=await p.getEmployees(i,m,r,l,s,n);this.employees=a,this.pagination={totalElements:t.totalElements,currentPage:t.page,itemsPerPage:t.size,totalPages:t.totalPages||Math.ceil(t.totalElements/t.size)},console.log("Colaboradores:",this.employees),console.log("Meta:",this.pagination)}catch(a){this.error=a.message||"Erro ao buscar colaboradores",console.error("‚ùå Erro ao buscar colaboradores:",a),this.employees=[],this.pagination.totalElements=0}finally{this.loading=!1}},setDraftEmployee(e){this.draftEmployee=e,localStorage.setItem("employeeDraft",JSON.stringify(e))},setCurrentEmployeeId(e){this.currentEmployeeId=e,localStorage.setItem("currentEmployeeId",e)},clearDraft(){this.draftEmployee=null,this.currentEmployeeId=null,localStorage.removeItem("employeeDraft"),localStorage.removeItem("currentEmployeeId")},loadFromStorage(){const e=localStorage.getItem("employeeDraft"),o=localStorage.getItem("currentEmployeeId");e&&(this.draftEmployee=JSON.parse(e)),o&&(this.currentEmployeeId=o)}}});export{y as u};
