import{d as P,L as E,J as B,l as c,c as F,B as I,b as v,f as j,i as a,x as t,w as i,I as n,aF as N,V as R,G as D,a0 as V,e as h,a1 as y,h as b,T as p,S as C,D as q,be as A,aK as M,a5 as U,a6 as G,a7 as J}from"./index-96068b83.js";const k=m=>(U("data-v-b87d23f7"),m=m(),G(),m),K={class:"h-100 d-flex align-center justify-center"},L={class:"w-100"},z={class:"text-h6 font-weight-bold"},H={class:"text-muted mt-1 font-weight-regular"},O={class:"d-flex justify-space-between align-center mt-5"},Q={class:"font-weight-medium mb-1"},W=k(()=>a("i",{class:"ph-asterisk ph-xs text-danger"},null,-1)),X={class:"d-flex justify-space-between align-center mt-5"},Y={class:"font-weight-medium mb-1"},Z=k(()=>a("i",{class:"ph-asterisk ph-xs text-danger"},null,-1)),ee={class:"text-center mt-5 d-flex align-center justify-center"},se=P({__name:"Form",setup(m){const g=E(),{t:x}=B();c(!0);const w=c(!1),o=c(""),d=c("");let _=null;const u=c(!1),l=c({password:{value:"",isValid:!1},confirmPassword:{value:"",isValid:!1}}),S=F(()=>l.value.password.isValid&&l.value.confirmPassword.isValid),T=async()=>{try{if(w.value=!0,o.value="",d.value="",u.value=!0,!S.value)return;const e=A.auth,{password:s,confirmPassword:f}=l.value,r={password:s.value,confirmPassword:f.value};e==="authService"&&(await M.resetPassword(r.password,r.confirmPassword)&&(d.value=x("t-reseting-password"),setTimeout(()=>{d.value=""},3e3),u.value=!1,l.value={confirmPassword:{value:"",isValid:!1},password:{value:"",isValid:!1}}),setTimeout(()=>{g.push({path:"/signin"})},2e3))}catch(e){$(e),console.error("Error:",e)}finally{w.value=!1}},$=e=>{e.response?o.value=e.response.data.message:e.request?o.value="No response from server.":o.value=e.message,_&&clearTimeout(_),_=setTimeout(()=>{o.value=""},3e3)};return(e,s)=>{const f=I("TextField");return v(),j("div",K,[a("div",L,[t(N,{class:"text-center mt-10"},{default:i(()=>[a("h5",z,n(e.$t("t-create-new-password")),1),a("div",H,n(e.$t("t-reset-password")),1)]),_:1}),t(q,{class:""},{default:i(()=>[t(R,{justify:"center",class:"align-center"},{default:i(()=>[t(D,{cols:"12",lg:"8"},{default:i(()=>[t(V,{name:"fade"},{default:i(()=>[d.value?(v(),h(y,{key:0,text:d.value,type:"warning",class:"mb-4 mx-16 mt-3",variant:"tonal",color:"warning",density:"compact",onClick:s[0]||(s[0]=r=>d.value=""),style:{cursor:"pointer"}},null,8,["text"])):b("",!0)]),_:1}),t(V,{name:"fade"},{default:i(()=>[o.value?(v(),h(y,{key:0,text:o.value,type:"error",class:"mb-4 mx-16 mt-3",variant:"tonal",color:"danger",density:"compact",onClick:s[1]||(s[1]=r=>o.value=""),style:{cursor:"pointer"}},null,8,["text"])):b("",!0)]),_:1}),a("div",O,[a("div",Q,[p(n(e.$t("t-password"))+" ",1),W])]),t(f,{modelValue:l.value.password,"onUpdate:modelValue":s[2]||(s[2]=r=>l.value.password=r),"hide-details":"",isRequired:"",isPassword:"",showError:u.value,isSubmitted:u.value},null,8,["modelValue","showError","isSubmitted"]),a("div",X,[a("div",Y,[p(n(e.$t("t-confirm-password"))+" ",1),Z])]),t(f,{modelValue:l.value.confirmPassword,"onUpdate:modelValue":s[3]||(s[3]=r=>l.value.confirmPassword=r),isRequired:"",showError:u.value,isSubmitted:u.value,"hide-details":"",isPassword:""},null,8,["modelValue","showError","isSubmitted"]),t(C,{color:"primary",block:"",class:"mt-4",onClick:T,loading:w.value},{default:i(()=>[p(n(e.$t("t-reset-password")),1)]),_:1},8,["loading"]),a("div",ee,[p(n(e.$t("t-wait-remember-password"))+" ",1),t(C,{to:"/signin",variant:"text",color:"primary",class:"font-weight-bold text-decoration-underline pa-0"},{default:i(()=>[p(n(e.$t("t-click-here")),1)]),_:1})])]),_:1})]),_:1})]),_:1})])])}}});const te=J(se,[["__scopeId","data-v-b87d23f7"]]),le=P({__name:"CreatePassword",setup(m){return(g,x)=>(v(),h(te))}});export{le as default};
