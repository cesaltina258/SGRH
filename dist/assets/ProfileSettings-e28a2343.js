import{d as D,e6 as A,e9 as z,B as V,b as w,e as P,w as t,x as e,aF as M,i,H,br as q,g as b,at as R,Q as f,I as o,C as k,D as g,G as v,V as G,l as y,m as J,M as W,O as T,a3 as I,J as K,K as O,af as Q,a1 as X,h as S,f as $,aD as Y,aG as Z,E as N,F as E,aM as ee}from"./index-1db35709.js";import{a as te,V as le}from"./VTabs-a43eb461.js";import{a as ae,V as F}from"./VWindowItem-947cb604.js";import"./VSlideGroup-4602e640.js";const se=[{title:"pages",disabled:!1},{title:"profile-setting",disabled:!0}],oe=[{title:"personal-details",value:"personal"},{title:"change-password",value:"password"},{title:"security-privacy",value:"security"}],de=[{title:"device"},{title:"ip-address"},{title:"date"},{title:"address"},{title:"action"}],ne=[{product:"iPhone 12 Pro",ip_address:"192.44.234.160",date:"18 Dec, 2023",location:"Los Angeles, United States"},{product:"Apple iPad Pro",ip_address:"192.44.234.162",date:"03 Jan, 2023",location:"Phoenix, United States"}],ie=[{title:"two-factor-authentication",description:"two-factor-description",btnText:"enable-two-factor-authentication"},{title:"secondary-verification",description:"secondary-verification-description",btnText:"set-up-secondary-method"}],ue={class:"text-center"},re={class:"text-subtitle-1 mt-3 mb-2 font-weight-bold"},ce=i("i",{class:"bx text-info bx-xs"},null,-1),me={class:"text-muted"},ve=i("div",{class:"dashed-border mt-6"},null,-1),fe=i("div",{class:"mt-4"},null,-1),pe=D({__name:"LeftSidebar",setup(j){const c=A(),{user:d}=z(c),l=u=>{if(!u)return null;const a=new Date(u);return new Intl.DateTimeFormat("pt-BR",{day:"2-digit",month:"2-digit",year:"numeric"}).format(a)};return(u,a)=>{const n=V("Card");return w(),P(G,null,{default:t(()=>[e(M,{class:"d-flex justify-end"}),e(k,{class:"pb-0"},{default:t(()=>{var s,m,C;return[i("div",ue,[e(H,{size:"90",class:"border pa-1"},{default:t(()=>[e(q,{src:b(R),class:"rounded-circle"},null,8,["src"])]),_:1}),i("div",re,[f(o(((s=b(d))==null?void 0:s.firstName)+" "+((m=b(d))==null?void 0:m.lastName)||u.$t("t-name"))+" ",1),ce]),i("div",me,o(((C=b(d))==null?void 0:C.function_name)||u.$t("t-role")),1)]),ve]}),_:1}),e(n,{title:u.$t("t-information"),elevation:"0"},{default:t(()=>[e(k,{class:"pb-0"},{default:t(()=>[e(g,{justify:"space-between","no-gutters":"",class:"mb-2"},{default:t(()=>[e(v,{cols:"",class:"font-weight-bold"},{default:t(()=>[f(o(u.$t("t-full-name")),1)]),_:1}),e(v,{cols:"",class:"text-end text-muted"},{default:t(()=>{var s,m;return[f(o(((s=b(d))==null?void 0:s.firstName)+" "+((m=b(d))==null?void 0:m.lastName)||u.$t("t-name")),1)]}),_:1})]),_:1}),e(g,{justify:"space-between","no-gutters":""},{default:t(()=>[e(v,{cols:"",class:"font-weight-bold"},{default:t(()=>[f(o(u.$t("t-role")),1)]),_:1}),e(v,{cols:"",class:"text-end text-muted"},{default:t(()=>{var s;return[f(o(((s=b(d))==null?void 0:s.function_name)||u.$t("t-role")),1)]}),_:1})]),_:1}),e(g,{justify:"space-between","no-gutters":"",class:"mb-2"}),e(g,{justify:"space-between","no-gutters":"",class:"mb-2"},{default:t(()=>[e(v,{cols:"",class:"font-weight-bold"},{default:t(()=>[f(o(u.$t("t-joining-date")),1)]),_:1}),e(v,{cols:"",class:"text-end text-muted"},{default:t(()=>{var s;return[f(o(l((s=b(d))==null?void 0:s.lastSucessfulLogin)||u.$t("t-joining-date")),1)]}),_:1})]),_:1}),fe]),_:1})]),_:1},8,["title"])]),_:1})}}}),_e={class:"font-weight-bold mb-1"},we={class:"font-weight-bold mb-1"},he={class:"font-weight-bold mb-1"},be={class:"font-weight-bold mb-1"},ge={class:"font-weight-bold mb-1"},Ve={class:"font-weight-bold mb-1"},ye={class:"font-weight-bold mb-1"},$e={class:"font-weight-bold mb-1"},Pe=D({__name:"PersonalDetails",setup(j){const c=A(),{user:d}=z(c),l=y({fname:"",lname:"",phone:"",email:"",dob:"07/19/2000",joiningDate:"09/10/2022",skills:[],city:"",country:"",zip:"",description:""});J(()=>{d.value&&(l.value.fname=d.value.firstName||"",l.value.lname=d.value.lastName||"",l.value.phone=d.value.phone||"",l.value.email=d.value.email||"",l.value.dob=d.value.dob||"07/19/2000",l.value.joiningDate=d.value.lastSucessfulLogin||"09/10/2022",l.value.city=d.value.city||"",l.value.country=d.value.country||"",l.value.zip=d.value.zip||"",l.value.skills=d.value.skills||[],l.value.description=d.value.description||"")}),W(d,a=>{a&&(l.value={fname:a.firstName||"",lname:a.lastName||"",phone:a.phone||"",email:a.email||"",dob:a.dob||"07/19/2000",joiningDate:a.lastSucessfulLogin||"09/10/2022",skills:a.skills||[],city:a.city||"",country:a.country||"",zip:a.zip||"",description:a.description||""})},{immediate:!0});const u=()=>{l.value={fname:"",lname:"",phone:"",email:"",dob:"07/19/2000",joiningDate:"09/10/2022",skills:[],city:"",country:"",zip:"",description:""}};return(a,n)=>{const s=V("TextField"),m=V("VueDatePicker"),C=V("Card");return w(),P(C,{title:a.$t("t-personal-details")},{default:t(()=>[e(k,null,{default:t(()=>[e(g,null,{default:t(()=>[e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",_e,o(a.$t("t-first-name")),1),e(s,{modelValue:l.value.fname,"onUpdate:modelValue":n[0]||(n[0]=p=>l.value.fname=p),placeholder:"Enter your first name","hide-details":""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",we,o(a.$t("t-last-name")),1),e(s,{modelValue:l.value.lname,"onUpdate:modelValue":n[1]||(n[1]=p=>l.value.lname=p),placeholder:"Enter your Last name","hide-details":""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",he,o(a.$t("t-phone-number")),1),e(s,{modelValue:l.value.phone,"onUpdate:modelValue":n[2]||(n[2]=p=>l.value.phone=p),placeholder:"Enter your Phone number","hide-details":""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",be,o(a.$t("t-email")),1),e(s,{modelValue:l.value.email,"onUpdate:modelValue":n[3]||(n[3]=p=>l.value.email=p),placeholder:"Enter your Email address","hide-details":""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",ge,o(a.$t("t-date-of-birth")),1),e(m,{modelValue:l.value.joiningDate,"onUpdate:modelValue":n[4]||(n[4]=p=>l.value.joiningDate=p),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",Ve,o(a.$t("t-joining-date")),1),e(m,{modelValue:l.value.joiningDate,"onUpdate:modelValue":n[5]||(n[5]=p=>l.value.joiningDate=p),teleport:!0,"enable-time-picker":!1},null,8,["modelValue"])]),_:1})]),_:1}),e(g,null,{default:t(()=>[e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",ye,o(a.$t("t-country")),1),e(s,{modelValue:l.value.country,"onUpdate:modelValue":n[6]||(n[6]=p=>l.value.country=p),placeholder:"Enter your Country","hide-details":""},null,8,["modelValue"])]),_:1}),e(v,{cols:"12",lg:"6"},{default:t(()=>[i("div",$e,o(a.$t("t-province")),1),e(s,{modelValue:l.value.city,"onUpdate:modelValue":n[7]||(n[7]=p=>l.value.city=p),placeholder:"Enter your City","hide-details":""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),e(I,{class:"d-flex justify-end"},{default:t(()=>[i("div",null,[e(T,{color:"primary",variant:"elevated"},{default:t(()=>[f(o(a.$t("t-update")),1)]),_:1}),e(T,{color:"danger",variant:"tonal",onClick:u},{default:t(()=>[f(o(a.$t("t-cancel")),1)]),_:1})])]),_:1})]),_:1},8,["title"])}}}),xe={class:"font-weight-bold mb-1"},Te=i("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),ke={key:0,class:"text-red text-extra-small pt-1"},Ce={class:"font-weight-bold mb-1"},De=i("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),je={key:0,class:"text-red text-extra-small pt-1"},Se={class:"font-weight-bold mb-1"},Ee=i("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),Fe={key:0,class:"text-red text-extra-small pt-1"},Ne={class:"d-flex justify-space-between mt-4"},Be=i("span",{class:"text-primary text-decoration-underline font-weight-medium"},null,-1),Ae=i("i",{class:"ph-device-mobile-camera me-1"},null,-1),ze=i("i",{class:"ph-sign-out ms-1"},null,-1),Ie=D({__name:"ChangePassword",setup(j){const{t:c}=K(),d=O(),l=y(!1),u=y(!1),a=y("");let n=null;const s=y({oldPswd:{value:"",isValid:!0},newPswd:{value:"",isValid:!0},confirmPswd:{value:"",isValid:!0}}),m=y({oldPassword:"",newPassword:"",confirmPassword:""}),C=()=>{const{oldPswd:r,newPswd:_,confirmPswd:x}=s.value;return m.value.oldPassword=r.value?"":c("t-required-field"),m.value.newPassword=_.value?"":c("t-required-field"),m.value.confirmPassword=x.value?"":c("t-required-field"),r.isValid=!m.value.oldPassword,_.isValid=!m.value.newPassword,x.isValid=!m.value.confirmPassword,r.isValid&&_.isValid&&x.isValid},p=r=>{var _;n&&clearTimeout(n),a.value=((_=r==null?void 0:r.error)==null?void 0:_.message)||c("t-verification-password-error"),n=setTimeout(()=>{a.value="",n=null},5e3)},L=async()=>{if(l.value=!0,s.value.newPswd.value!==s.value.confirmPswd.value){a.value=c("t-not-match-passwords"),n=setTimeout(()=>{a.value="",n=null},5e3);return}if(!C()){a.value=c("t-form-invalid"),n=setTimeout(()=>{a.value="",n=null},5e3);return}u.value=!0;try{const r={oldPassword:s.value.oldPswd.value,newPassword:s.value.newPswd.value,confirmPassword:s.value.confirmPswd.value,passwordsMatching:s.value.newPswd.value===s.value.confirmPswd.value};console.log("Payload enviado:",s.value.newPswd.value,s.value.confirmPswd.value,r);const _=await ee.updatePassword(r);_.status==="error"?p(_):(d.success(c("t-password-changed-success")),s.value.oldPswd.value="",s.value.newPswd.value="",s.value.confirmPswd.value="",l.value=!1)}catch(r){console.error("Erro ao alterar senha:",r),d.error(c("t-password-changed-error")),a.value=c("t-password-changed-error"),p(r)}finally{u.value=!1}};return Q(()=>{n&&clearTimeout(n)}),(r,_)=>{const x=V("TextField"),B=V("Card");return w(),P(B,{title:r.$t("t-change-password")},{default:t(()=>[e(k,null,{default:t(()=>[a.value?(w(),P(X,{key:0,text:a.value,type:"error",class:"mb-4",variant:"tonal",color:"danger",density:"compact"},null,8,["text"])):S("",!0),e(g,null,{default:t(()=>[e(v,{cols:"12",lg:"4"},{default:t(()=>[i("div",xe,[f(o(r.$t("t-old-password"))+" ",1),Te]),e(x,{modelValue:s.value.oldPswd.value,"onUpdate:modelValue":_[0]||(_[0]=h=>s.value.oldPswd.value=h),placeholder:r.$t("t-enter-password"),"hide-details":"",showError:l.value,isSubmitted:l.value,isPassword:""},null,8,["modelValue","placeholder","showError","isSubmitted"]),m.value.oldPassword?(w(),$("div",ke,o(m.value.oldPassword),1)):S("",!0)]),_:1}),e(v,{cols:"12",lg:"4"},{default:t(()=>[i("div",Ce,[f(o(r.$t("t-new-password")),1),De]),e(x,{modelValue:s.value.newPswd.value,"onUpdate:modelValue":_[1]||(_[1]=h=>s.value.newPswd.value=h),placeholder:r.$t("t-enter-password"),"hide-details":"",showError:l.value,isSubmitted:l.value,isPassword:""},null,8,["modelValue","placeholder","showError","isSubmitted"]),m.value.newPassword?(w(),$("div",je,o(m.value.newPassword),1)):S("",!0)]),_:1}),e(v,{cols:"12",lg:"4"},{default:t(()=>[i("div",Se,[f(o(r.$t("t-confirm-password"))+" ",1),Ee]),e(x,{modelValue:s.value.confirmPswd.value,"onUpdate:modelValue":_[2]||(_[2]=h=>s.value.confirmPswd.value=h),placeholder:r.$t("t-enter-password"),"hide-details":"",showError:l.value,isSubmitted:l.value,isPassword:""},null,8,["modelValue","placeholder","showError","isSubmitted"]),m.value.confirmPassword?(w(),$("div",Fe,o(m.value.confirmPassword),1)):S("",!0)]),_:1})]),_:1}),i("div",Ne,[Be,e(T,{color:"success",loading:u.value,disabled:u.value,onClick:L},{default:t(()=>[f(o(r.$t("t-save")),1)]),_:1},8,["loading","disabled"])])]),_:1}),e(B,{elevation:"0",title:r.$t("t-login-history")},{"title-action":t(()=>[]),default:t(()=>[e(Y),e(k,null,{default:t(()=>[e(Z,{headerItems:b(de).map(h=>({...h,title:r.$t("t-"+h.title)}))},{body:t(()=>[(w(!0),$(E,null,N(b(ne),(h,U)=>(w(),$("tr",{key:"eCommerce-order-item-"+U,height:"50"},[i("td",null,[Ae,f(" "+o(h.product),1)]),i("td",null,o(h.ip_address),1),i("td",null,o(h.date),1),i("td",null,o(h.location),1),i("td",null,[e(T,{color:"primary",variant:"text",class:"px-0"},{default:t(()=>[f(o(r.$t("t-logout"))+" ",1),ze]),_:1})])]))),128))]),_:1},8,["headerItems"])]),_:1})]),_:1},8,["title"])]),_:1},8,["title"])}}}),Le={class:"font-weight-bold text-subtitle-2"},Ue={class:"text-muted mt-1"},Me={class:"text-muted"},He=i("br",null,null,-1),qe=D({__name:"SecurityPrivacy",setup(j){const c=y("deleteTextHere");return(d,l)=>{const u=V("TextField"),a=V("Card");return w(),P(a,{title:d.$t("t-security-privacy")},{default:t(()=>[e(k,null,{default:t(()=>[(w(!0),$(E,null,N(b(ie),(n,s)=>(w(),P(g,{key:"security-"+s},{default:t(()=>[e(v,{cols:""},{default:t(()=>[i("div",Le,o(d.$t("t-"+n.title)),1),i("div",Ue,o(d.$t("t-"+n.description)),1)]),_:2},1024),e(v,{cols:"auto"},{default:t(()=>[e(T,{color:"primary",density:"compact",class:"px-2"},{default:t(()=>[f(o(d.$t("t-"+n.btnText)),1)]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1}),e(a,{title:d.$t("t-delete-this-account"),"title-class":"text-decoration-underline",elevation:"0"},{default:t(()=>[e(k,{class:"pb-0"},{default:t(()=>[i("div",Me,o(d.$t("t-delete-account-description")),1),He,e(u,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=n=>c.value=n),isPassword:""},null,8,["modelValue"])]),_:1}),e(I,{class:"px-4 pb-4"},{default:t(()=>[e(T,{color:"danger",variant:"tonal"},{default:t(()=>[f(o(d.$t("t-close-delete-account")),1)]),_:1}),e(T,{color:"secondary",variant:"tonal"},{default:t(()=>[f(o(d.$t("t-cancel")),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["title"])}}}),Re={class:"d-flex justify-space-between"},Ge=D({__name:"index",setup(j){const c=y("personal");return(d,l)=>(w(),P(g,null,{default:t(()=>[e(v,{lg:"3"},{default:t(()=>[e(pe)]),_:1}),e(v,{lg:"9"},{default:t(()=>[i("div",Re,[e(te,{modelValue:c.value,"onUpdate:modelValue":l[0]||(l[0]=u=>c.value=u)},{default:t(()=>[(w(!0),$(E,null,N(b(oe),(u,a)=>(w(),P(le,{key:"profile-tab-"+a,value:u.value},{default:t(()=>[f(o(d.$t("t-"+u.title)),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),e(ae,{modelValue:c.value,"onUpdate:modelValue":l[1]||(l[1]=u=>c.value=u)},{default:t(()=>[e(F,{value:"personal"},{default:t(()=>[e(Pe)]),_:1}),e(F,{value:"password"},{default:t(()=>[e(Ie)]),_:1}),e(F,{value:"security"},{default:t(()=>[e(qe)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}))}}),Qe=D({__name:"ProfileSettings",setup(j){return(c,d)=>{const l=V("Breadcrumb");return w(),$(E,null,[e(l,{title:"profile-settings",items:b(se)},null,8,["items"]),e(Ge)],64)}}});export{Qe as default};
