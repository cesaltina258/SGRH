import{Z as s,aH as n}from"./index-1db35709.js";const p=s("countries",{state:()=>({countries:[],pagination:{totalElements:0,currentPage:0,itemsPerPage:10,totalPages:0},loading:!1,error:null,draftCountry:null,currentCountryId:null}),actions:{async fetchCountries(t,r,i="name",c="asc",l,u){this.loading=!0,this.error=null;const y=t??this.pagination.currentPage,g=r??this.pagination.itemsPerPage;try{const{content:e,meta:o}=await n.getCountries(y,g,i,c,l,u);this.countries=e,this.pagination={totalElements:o.totalElements,currentPage:o.page,itemsPerPage:o.size,totalPages:o.totalPages||Math.ceil(o.totalElements/o.size)},console.log("üåç Pa√≠ses:",this.countries),console.log("üìÑ Meta:",this.pagination)}catch(e){this.error=e.message||"Erro ao buscar pa√≠ses",this.countries=[],this.pagination.totalElements=0,console.error("‚ùå Erro ao buscar pa√≠ses:",e)}finally{this.loading=!1}},setDraftCountry(t){this.draftCountry=t,localStorage.setItem("countryDraft",JSON.stringify(t)),console.log("üåç Draft de pa√≠s salvo:",this.draftCountry)},setCurrentCountryId(t){this.currentCountryId=t,localStorage.setItem("currentCountryId",t),console.log("üåç ID do pa√≠s atual salvo:",this.currentCountryId)},clearDraft(){this.draftCountry=null,this.currentCountryId=null,localStorage.removeItem("countryDraft"),localStorage.removeItem("currentCountryId"),console.log("üåç Draft de pa√≠s e ID atual limpos")},loadFromStorage(){const t=localStorage.getItem("countryDraft"),r=localStorage.getItem("currentCountryId");t&&(this.draftCountry=JSON.parse(t)),r&&(this.currentCountryId=r),console.log("üåç Carregando draft de pa√≠s e ID atual do armazenamento:",this.draftCountry,this.currentCountryId)}}}),d=s("country_id",{state:()=>({country_id:null,error:null}),actions:{async fetchCountryByID(t){this.error=null;try{const r=await n.getCountryByID(t);return this.country_id=r.data,r.data}catch(r){return this.error=r.message||"Erro ao buscar pa√≠s por ID",console.error("‚ùå Erro ao buscar pa√≠s por ID:",r),null}}}}),m=s("provinces",{state:()=>({provincesbyCountry:[],provinces:[],loading:!1,error:null}),actions:{async fetchProvinces(){this.loading=!0,this.error=null;try{const t=await n.getProvinces();this.provinces=t.content,console.log("response provinces",t)}catch(t){this.error=t.message||"Erro ao buscar prov√≠ncias",console.error("‚ùå Erro ao buscar prov√≠ncias:",t)}finally{this.loading=!1}},clearProvinces(){this.provincesbyCountry=[]},async fetchProvincesbyCountry(t){this.loading=!0,this.error=null;try{const r=await n.getProvinceByID(t);this.provincesbyCountry=Array.isArray(r)?r:[],console.log("response store provinces by country",this.provincesbyCountry)}catch(r){this.error="Failed to load provinces",this.provincesbyCountry=[],console.error(r)}finally{this.loading=!1}}}}),P=s("province_by_country",{state:()=>({province_by_country:[],pagination:{totalElements:0,currentPage:0,itemsPerPage:10,totalPages:0},loading:!1,error:null}),actions:{async fetchProvincesByCountryID(t,r,i,c="name",l="asc",u,y){this.loading=!0,this.error=null;const g=r??this.pagination.currentPage,e=i??this.pagination.itemsPerPage;try{const{content:o,meta:a}=await n.getProvincesByCountryID(t,g,e,c,l,u,y);this.province_by_country=o,this.pagination={totalElements:a.totalElements,currentPage:a.page,itemsPerPage:a.size,totalPages:a.totalPages||Math.ceil(a.totalElements/a.size)},console.log("üèûÔ∏è Prov√≠ncias por pa√≠s:",this.province_by_country),console.log("üìÑ Pagina√ß√£o:",this.pagination)}catch(o){this.error=o.message||"Erro ao buscar prov√≠ncias",this.province_by_country=[],this.pagination.totalElements=0,console.error("‚ùå Erro ao buscar prov√≠ncias:",o)}finally{this.loading=!1}}}});export{m as a,P as b,d as c,p as u};
