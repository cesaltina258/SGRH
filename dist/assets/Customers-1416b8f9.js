import{s as Y,a as ae,o as se,f as oe,c as G,_ as ue,b as ne}from"./Listing.vue_vue_type_script_setup_true_lang-7cc41113.js";import{d as j,c as $,B as k,b as g,e as B,w as l,x as e,D,G as m,N as ie,a2 as Z,g as O,O as x,C as T,V as ee,i as a,l as _,H as Q,br as K,I as C,bi as I,q as M,f as S,Q as f,aF as de,E as W,n as re,F as A,dn as ce,aj as me,a8 as ve,a9 as fe,a1 as _e,aE as pe,aa as Ve,a3 as ge,ab as he,M as N,h as be,T as P,ac as Ce}from"./index-1db35709.js";import{_ as xe}from"./Status.vue_vue_type_script_setup_true_lang-8d758673.js";const we=a("i",{class:"ph-funnel me-1"},null,-1),ye=a("span",{class:"font-weight-bold"}," Filter",-1),De=j({__name:"Filters",props:{modelValue:{type:Object,default:()=>{}}},emits:["update:modelValue"],setup(p,{emit:c}){const h=c,s=p,V=$({get(){return s.modelValue.query||""},set(d){h("update:modelValue",{...s.modelValue,query:d})}}),t=$({get(){return s.modelValue.status||""},set(d){h("update:modelValue",{...s.modelValue,status:d})}}),u=$({get(){return s.modelValue.date||""},set(d){h("update:modelValue",{...s.modelValue,date:d})}});return(d,r)=>{const y=k("VueDatePicker");return g(),B(ee,null,{default:l(()=>[e(T,null,{default:l(()=>[e(D,null,{default:l(()=>[e(m,{cols:"12",lg:"4"},{default:l(()=>[e(ie,{modelValue:V.value,"onUpdate:modelValue":r[0]||(r[0]=b=>V.value=b),placeholder:"Search customer, email, etc... "},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",sm:"6",lg:"lg"},{default:l(()=>[e(Z,{modelValue:t.value,"onUpdate:modelValue":r[1]||(r[1]=b=>t.value=b),items:O(Y),placeholder:"Select Status"},null,8,["modelValue","items"])]),_:1}),e(m,{cols:"12",sm:"6",lg:"lg"},{default:l(()=>[e(y,{modelValue:u.value,"onUpdate:modelValue":r[2]||(r[2]=b=>u.value=b),teleport:!0,placeholder:"Select date","month-change-on-scroll":!1,"enable-time-picker":!1},null,8,["modelValue"])]),_:1}),e(m,{cols:"12",lg:"2"},{default:l(()=>[e(x,{variant:"tonal",class:"",color:"primary",block:""},{default:l(()=>[we,ye]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})}}}),$e={class:"d-flex"},ke={class:"text-subtitle-1 font-weight-bold"},Ee={class:"text-primary"},Ue={key:0,class:"ph-user-circle-plus me-1"},Fe={key:1,class:"ph-plus me-1"},Se=a("span",null," Social media: ",-1),Be={class:"mt-5"},Oe=a("div",{class:"font-weight-bold"},"Private Notes",-1),je={class:"ckeditor-wrapper mt-3"},qe={class:"text-subtitle-2 font-weight-bold mb-1"},Ne={class:"text-muted"},Pe=a("i",{class:"ph-star align-baseline"},null,-1),Te=a("i",{class:"ph-shopping-cart align-baseline"},null,-1),Ae={class:"d-flex align-center"},Le={class:"text-primary font-weight-bold text-subtitle-2"},ze=a("i",{class:"ph-arrow-right"},null,-1),X="eCommerce-customer-private-note",Ie=j({__name:"CustomerDetails",props:{customer:{type:Object,required:!0}},setup(p){const c=_(!0);return(h,s)=>{const V=k("Card");return g(),B(ee,null,{default:l(()=>[e(de,{class:"d-flex justify-space-between align-center"},{default:l(()=>[a("div",$e,[e(Q,{rounded:"lg",size:"50",class:"me-2"},{default:l(()=>[e(K,{src:p.customer.img},null,8,["src"])]),_:1}),a("div",null,[a("div",ke,C(p.customer.name),1),a("div",Ee," @"+C(p.customer.name.split(" ").slice(-1).join("").toLowerCase()||"@mosciski"),1)])]),a("div",null,[e(I,null,{default:l(({isHovering:t,props:u})=>[e(x,M(u,{class:"",color:"primary",elevation:"0",variant:c.value||t?"elevated":"tonal",onClick:s[0]||(s[0]=d=>c.value=!c.value)}),{default:l(()=>[c.value?(g(),S("i",Ue)):(g(),S("i",Fe)),f(" "+C(c.value?"UnFollow":"Follow"),1)]),_:2},1040,["variant"])]),_:1}),e(I,null,{default:l(({isHovering:t,props:u})=>[e(x,M(u,{icon:"ph-trash ph-lg",color:"danger",rounded:"",density:"comfortable",variant:t?"elevated":"tonal",class:"ms-2"}),null,16,["variant"])]),_:1})])]),_:1}),e(T,null,{default:l(()=>[a("div",null,[Se,(g(!0),S(A,null,W(O(ae),(t,u)=>(g(),B(I,{key:"media-"+u},{default:l(({isHovering:d,props:r})=>[e(x,M(r,{color:t.color,rounded:"",density:"comfortable",variant:d?"elevated":"tonal",class:"ms-2",icon:"",size:"small",elevation:"0"}),{default:l(()=>[a("i",{class:re(t.icon)},null,2)]),_:2},1040,["color","variant"])]),_:2},1024))),128))]),a("div",Be,[e(D,{"no-gutters":"",class:"mb-3"},{default:l(()=>[e(m,{cols:"4",class:"font-weight-bold"},{default:l(()=>[f(" Email ")]),_:1}),e(m,{cols:"8"},{default:l(()=>[f(C(p.customer.email),1)]),_:1})]),_:1}),e(D,{"no-gutters":"",class:"mb-3"},{default:l(()=>[e(m,{cols:"4",class:"font-weight-bold"},{default:l(()=>[f(" Contact ")]),_:1}),e(m,{cols:"8"},{default:l(()=>[f(C(p.customer.phone),1)]),_:1})]),_:1}),e(D,{"no-gutters":"",class:"mb-3"},{default:l(()=>[e(m,{cols:"4",class:"font-weight-bold"},{default:l(()=>[f(" Joining Date ")]),_:1}),e(m,{cols:"8"},{default:l(()=>[f(C(p.customer.create_date),1)]),_:1})]),_:1}),e(D,{"no-gutters":"",class:"mb-3"},{default:l(()=>[e(m,{cols:"4",class:"font-weight-bold"},{default:l(()=>[f(" Email ")]),_:1}),e(m,{cols:"8"},{default:l(()=>[e(xe,{status:p.customer.status},null,8,["status"])]),_:1})]),_:1})]),Oe,a("div",je,[a("div",{id:X}),e(ce,{id:X})]),e(V,{title:"Order History"},{default:l(()=>[e(T,{"data-simplebar":"",style:{"max-height":"395px"}},{default:l(()=>[(g(!0),S(A,null,W(O(se),(t,u)=>(g(),B(me,{key:"popular-product-"+u},{default:l(()=>[e(D,{class:"dashed-border"},{default:l(()=>[e(m,{cols:"auto",class:"pe-0"},{default:l(()=>[e(Q,{rounded:"0",color:"light",class:"pa-2",size:"large"},{default:l(()=>[e(K,{src:t.src},null,8,["src"])]),_:2},1024)]),_:2},1024),e(m,{class:"d-flex justify-space-between"},{default:l(()=>[a("div",null,[a("h5",qe,C(t.title),1),a("div",Ne,[Pe,f(" "+C(t.ratings)+" ",1),Te,f(" "+C(t.cart),1)])]),a("div",Ae,[a("span",Le,"$"+C(t.price),1),e(x,{color:"secondary",elevation:"0","min-width":"27",height:"27",class:"ms-2 px-1"},{default:l(()=>[ze]),_:1})])]),_:2},1024)]),_:2},1024)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})]),_:1})}}}),Me=a("div",{class:"font-weight-bold mb-2"},"Customer Name",-1),He=a("div",{class:"font-weight-bold mb-2"},"Customer Profile",-1),Je=a("div",{class:"font-weight-bold mb-2"},"Email",-1),Re=a("div",{class:"font-weight-bold mb-2"},"Contact no.",-1),Ge=a("div",{class:"font-weight-bold mb-2"},"Joining Date",-1),Qe=a("div",{class:"font-weight-bold mb-2"},"Status",-1),Ke=j({__name:"CreateEditCustomerDialog",props:{modelValue:{type:Boolean,default:!1},customerDetail:{type:Object,default:()=>{}}},emits:["update:modelValue","onConfirm"],setup(p,{emit:c}){var o,n,U,F,H,J,R;const h=c,s=p,V=((o=s.customerDetail)==null?void 0:o.id)===-1,t=_(((n=s.customerDetail)==null?void 0:n.name)||""),u=_(((U=s.customerDetail)==null?void 0:U.email)||""),d=_(((F=s.customerDetail)==null?void 0:F.phone)||""),r=(H=s.customerDetail)!=null&&H.create_date?_(new Date((J=s.customerDetail)==null?void 0:J.create_date)):_(new Date),y=_(((R=s.customerDetail)==null?void 0:R.status)||""),b=_(s.customerDetail.img?[s.customerDetail.img]:[]),w=_(""),E=$({get(){return s.modelValue},set(q){h("update:modelValue",q)}}),L=()=>{if(t.value?u.value?d.value?r.value?y.value||(w.value="Select status"):w.value="Select date":w.value="Enter contact number":w.value="Enter Email":w.value="Enter customer name",setTimeout(()=>{w.value=""},3e3),!t.value||!u.value||!d.value||!r.value||!y.value)return;const q={...s.customerDetail,name:t.value,email:u.value,phone:d.value,create_date:r.value,status:y.value,img:b.value[0]};h("onConfirm",q)};return(q,i)=>{const z=k("TextField"),le=k("VueDatePicker"),te=k("Card");return g(),B(he,{modelValue:E.value,"onUpdate:modelValue":i[8]||(i[8]=v=>E.value=v),width:"600",persistent:"",scrollable:""},{default:l(()=>[e(te,{title:V?"Add Customer":"Update Customer","title-class":"bg-light"},{"title-action":l(()=>[e(x,{icon:"ph-x",variant:"plain",density:"compact",onClick:i[0]||(i[0]=v=>E.value=!1)})]),default:l(()=>[e(T,{"data-simplebar":"",style:{"max-height":"calc(100vh - 400px)"}},{default:l(()=>[ve(e(_e,{text:w.value,variant:"tonal",color:"danger",density:"compact",class:"mb-3"},null,8,["text"]),[[fe,w.value]]),Me,e(z,{modelValue:t.value,"onUpdate:modelValue":i[1]||(i[1]=v=>t.value=v),placeholder:"Enter customer name"},null,8,["modelValue"]),He,e(pe,{text:"Drop file here or click to upload.",modelValue:b.value,"onUpdate:modelValue":i[2]||(i[2]=v=>b.value=v),multiple:!1},null,8,["modelValue"]),Je,e(z,{modelValue:u.value,"onUpdate:modelValue":i[3]||(i[3]=v=>u.value=v),placeholder:"Enter Email"},null,8,["modelValue"]),Re,e(z,{modelValue:d.value,"onUpdate:modelValue":i[4]||(i[4]=v=>d.value=v),placeholder:"Enter Contact no"},null,8,["modelValue"]),Ge,e(le,{modelValue:O(r),"onUpdate:modelValue":i[5]||(i[5]=v=>Ve(r)?r.value=v:null),class:"mb-4",teleport:!0,"enable-time-picker":!1,clearable:!1},null,8,["modelValue"]),Qe,e(Z,{modelValue:y.value,"onUpdate:modelValue":i[6]||(i[6]=v=>y.value=v),items:O(Y)},null,8,["modelValue","items"])]),_:1}),e(ge,{class:"d-flex justify-end px-5 pb-3"},{default:l(()=>[e(x,{class:"",color:"light",elevation:"0",variant:"elevated",onClick:i[7]||(i[7]=v=>E.value=!1)},{default:l(()=>[f(" Close ")]),_:1}),e(x,{class:"",color:"success",elevation:"0",variant:"elevated",onClick:L},{default:l(()=>[f(C(V?"Add Customer":"Update"),1)]),_:1})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),We=a("i",{class:"ph-plus-circle me-1"},null,-1),Xe=a("i",{class:"ph-download-simple me-1"},null,-1),Ye=a("i",{class:"ph-upload-simple me-1"},null,-1),Ze=j({__name:"index",setup(p){const c=_(oe),h=_(G[0]),s=_(!1),V=_(null),t=_(G),u=_(t.value);N(s,o=>{o||(V.value=null)});const d=$(()=>c.value.query);N(d,o=>{t.value=u.value.filter(n=>{const U=o.toLowerCase();if(n.name.toLowerCase().includes(U))return n})});const r=$(()=>c.value.date);N(r,o=>{o?t.value=u.value.filter(n=>P(n.create_date)===P(o)):t.value=u.value});const y=$(()=>c.value.status);N(y,o=>{o?t.value=u.value.filter(n=>n.status===o):t.value=u.value});const b=o=>{h.value=o},w=()=>{V.value={id:-1,name:"",email:"",phone:"",create_date:new Date().toString(),status:"",img:""},s.value=!0},E=o=>{V.value=o,s.value=!0},L=o=>{o.id===-1?t.value.unshift({...o,id:Ce(),create_date:P(o.create_date)}):t.value=t.value.map(n=>n.id===o.id?{...n,...o,create_date:P(o.create_date)}:n),s.value=!1};return(o,n)=>{const U=k("Card");return g(),S(A,null,[e(U,{title:"Customers List","title-class":"py-5"},{"title-action":l(()=>[a("div",null,[e(x,{color:"primary",class:"mx-1",onClick:w},{default:l(()=>[We,f(" Add Customer ")]),_:1}),e(x,{color:"secondary",class:"mx-1"},{default:l(()=>[Xe,f(" Import ")]),_:1}),e(x,{color:"info",class:"mx-1",variant:"tonal"},{default:l(()=>[Ye,f(" Export ")]),_:1})])]),_:1}),e(D,{class:"mt-5"},{default:l(()=>[e(m,{cols:"12",lg:"8"},{default:l(()=>[e(De,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=F=>c.value=F)},null,8,["modelValue"]),e(ue,{class:"mt-5",customers:t.value,onOnView:b,onOnEdit:E},null,8,["customers"])]),_:1}),e(m,{cols:"12",lg:"4"},{default:l(()=>[e(Ie,{customer:h.value},null,8,["customer"])]),_:1})]),_:1}),V.value?(g(),B(Ke,{key:0,modelValue:s.value,"onUpdate:modelValue":n[1]||(n[1]=F=>s.value=F),customerDetail:V.value,onOnConfirm:L},null,8,["modelValue","customerDetail"])):be("",!0)],64)}}}),al=j({__name:"Customers",setup(p){return(c,h)=>{const s=k("Breadcrumb");return g(),S(A,null,[e(s,{title:"Customers",items:O(ne)},null,8,["items"]),e(Ze)],64)}}});export{al as default};
