import{d as H,l as o,c as q,J as Z,B as I,b as C,e as N,w as a,x as e,O as L,aD as R,a1 as te,h as T,C as K,y as ue,D as W,G as F,i as s,Q as U,I as f,a3 as X,ab as Y,Z as de,aM as A,aN as xe,f as z,aF as me,r as se,V as ce,K as Ue,af as Ce,M as G,N as Se,g as J,R as ke,H as oe,F as ee,E as Ee,S as Ne,W as De}from"./index-1db35709.js";import{_ as ne}from"./Status.vue_vue_type_script_setup_true_lang-8d758673.js";import{D as Te}from"./DataTableServer-f256364c.js";const Fe=[{title:"users",disabled:!1},{title:"list-view",disabled:!0}],re=[{title:"full-name",key:"firstName",sortable:!0},{title:"email",key:"email",sortable:!0},{title:"status",sortable:!1},{title:"blocked?",sortable:!1},{title:"action",sortable:!1}],Le=[{title:"view",icon:"ph-eye",value:"view"},{title:"edit",icon:"ph-pencil",value:"edit"},{title:"delete",icon:"ph-trash",value:"delete"},{title:"change",icon:"ph-arrows-clockwise",value:"change"},{title:"enable",icon:"ph-lock",value:"enable"}],Me={class:"font-weight-bold text-caption mb-1"},Be=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),Oe={class:"font-weight-bold text-caption mb-1"},qe={class:"font-weight-bold text-caption mb-1"},Ie=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),je={class:"font-weight-bold text-caption mb-1"},Ae=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),ze={class:"font-weight-bold text-caption mb-1"},Re=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),We=s("i",{class:"ph-x me-1"},null,-1),He=H({__name:"CreateUpdateUserModal",props:{modelValue:{type:Boolean,default:!1},data:{type:Object,required:!0}},emits:["update:modelValue","onSubmit"],setup(V,{emit:p}){const v=o(!1),$=p,d=o(""),m=V,i=q(()=>m.data.id===-1),u=o(m.data),_=q({get(){return m.modelValue},set(y){$("update:modelValue",y)}}),g=o(u.value.id||""),S=o(u.value.firstName||""),D=o(u.value.lastName||""),E=o(u.value.email||""),n=o({value:"",isValid:!1}),r=o({value:"",isValid:!1}),{t:x}=Z(),B=()=>{if(!i.value)return!0;const y=n.value.value.trim(),P=r.value.value.trim();return console.log("Validating password:",y,P),y!==P?(d.value=x("t-please-enter-same-password-and-password-confirm"),!1):!0},h=y=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(y),M=()=>{if(S.value===""){d.value=x("t-please-enter-firstname"),setTimeout(()=>d.value="",3e3);return}if(E.value===""){d.value=x("t-please-enter-email"),setTimeout(()=>d.value="",3e3);return}else if(!h(E.value)){d.value=x("t-invalid-email"),setTimeout(()=>d.value="",3e3);return}if(i.value){if(n.value){if(!r.value){d.value=x("t-please-enter-password-confirm"),setTimeout(()=>d.value="",3e3);return}}else{d.value=x("t-please-enter-password"),setTimeout(()=>d.value="",3e3);return}if(!B()){setTimeout(()=>d.value="",3e3);return}}d.value="",v.value=!0;const y={...!i.value&&{id:g.value},firstName:S.value,lastName:D.value,email:E.value,...i.value&&{password:n.value.value,password_confirm:r.value.value}};$("onSubmit",y,{onSuccess:()=>{_.value=!1},onFinally:()=>{v.value=!1}})};return(y,P)=>{const O=I("TextField"),Q=I("Card");return C(),N(Y,{modelValue:_.value,"onUpdate:modelValue":P[7]||(P[7]=b=>_.value=b),width:"500",scrollable:""},{default:a(()=>[e(Q,{title:i.value?y.$t("t-add-user"):y.$t("t-edit-user"),"title-class":"py-0",style:{overflow:"hidden"}},{"title-action":a(()=>[e(L,{icon:"ph-x",variant:"plain",onClick:P[0]||(P[0]=b=>_.value=!1)})]),default:a(()=>[e(R),d.value?(C(),N(te,{key:0,text:d.value,variant:"tonal",color:"danger",class:"mx-5 mt-3",density:"compact"},null,8,["text"])):T("",!0),e(K,{class:"overflow-y-auto",style:ue({"max-height":i.value?"70vh":"45vh"})},{default:a(()=>[e(W,{class:""},{default:a(()=>[e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",Me,[U(f(y.$t("t-firstname"))+" ",1),Be]),e(O,{modelValue:S.value,"onUpdate:modelValue":P[1]||(P[1]=b=>S.value=b),placeholder:y.$t("t-enter-firstname")},null,8,["modelValue","placeholder"])]),_:1}),e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",Oe,f(y.$t("t-lastname")),1),e(O,{modelValue:D.value,"onUpdate:modelValue":P[2]||(P[2]=b=>D.value=b),placeholder:y.$t("t-enter-lastname")},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),s("div",qe,[U(f(y.$t("t-email"))+" ",1),Ie]),e(O,{modelValue:E.value,"onUpdate:modelValue":P[3]||(P[3]=b=>E.value=b),"!isEmail":"",placeholder:y.$t("t-enter-email-form")},null,8,["modelValue","placeholder"]),i.value?(C(),N(W,{key:0},{default:a(()=>[e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",je,[U(f(y.$t("t-password"))+" ",1),Ae]),e(O,{modelValue:n.value,"onUpdate:modelValue":P[4]||(P[4]=b=>n.value=b),"hide-details":"",isRequired:"",isPassword:"",placeholder:y.$t("t-enter-password")},null,8,["modelValue","placeholder"])]),_:1}),e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",ze,[U(f(y.$t("t-confirm-password"))+" ",1),Re]),e(O,{modelValue:r.value,"onUpdate:modelValue":P[5]||(P[5]=b=>r.value=b),"hide-details":"",isRequired:"",isPassword:"",placeholder:y.$t("t-enter-password-confirm")},null,8,["modelValue","placeholder"])]),_:1})]),_:1})):T("",!0)]),_:1},8,["style"]),e(R),e(X,{class:"d-flex justify-end"},{default:a(()=>[s("div",null,[e(L,{color:"danger",class:"me-1",onClick:P[6]||(P[6]=b=>_.value=!1)},{default:a(()=>[We,U(" "+f(y.$t("t-close")),1)]),_:1}),e(L,{color:"primary",variant:"elevated",onClick:M,loading:v.value,disabled:v.value},{default:a(()=>[U(f(v.value?y.$t("t-saving"):y.$t("t-save")),1)]),_:1},8,["loading","disabled"])])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),Qe={class:"font-weight-bold text-caption mb-1"},Ge=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),Je={class:"font-weight-bold text-caption mb-1"},Ke={class:"font-weight-bold text-caption mb-1"},Ze=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),Xe={class:"font-weight-bold text-caption mb-1"},Ye=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),et={class:"font-weight-bold text-caption mb-1"},tt=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),lt=s("i",{class:"ph-x me-1"},null,-1),at=H({__name:"ViewUserModal",props:{modelValue:{type:Boolean,default:!1},data:{type:Object,required:!0}},emits:["update:modelValue"],setup(V,{emit:p}){o(!1);const v=p,$=o(""),d=V,m=q(()=>d.data.id===-1),i=o(d.data),u=q({get(){return d.modelValue},set(n){v("update:modelValue",n)}});o(i.value.id||"");const _=o(i.value.firstName||""),g=o(i.value.lastName||""),S=o(i.value.email||""),D=o(m&&i.value.password||""),E=o(m&&i.value.password_confirm||"");return Z(),(n,r)=>{const x=I("TextField"),B=I("Card");return C(),N(Y,{modelValue:u.value,"onUpdate:modelValue":r[7]||(r[7]=h=>u.value=h),width:"500",scrollable:""},{default:a(()=>[e(B,{title:n.$t("t-view-user"),"title-class":"py-0",style:{overflow:"hidden"}},{"title-action":a(()=>[e(L,{icon:"ph-x",variant:"plain",onClick:r[0]||(r[0]=h=>u.value=!1)})]),default:a(()=>[e(R),$.value?(C(),N(te,{key:0,text:$.value,variant:"tonal",color:"danger",class:"mx-5 mt-3",density:"compact"},null,8,["text"])):T("",!0),e(K,{class:"overflow-y-auto",style:ue({"max-height":m.value?"70vh":"45vh"})},{default:a(()=>[e(W,{class:""},{default:a(()=>[e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",Qe,[U(f(n.$t("t-firstname"))+" ",1),Ge]),e(x,{modelValue:_.value,"onUpdate:modelValue":r[1]||(r[1]=h=>_.value=h),placeholder:n.$t("t-enter-firstname"),disabled:""},null,8,["modelValue","placeholder"])]),_:1}),e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",Je,f(n.$t("t-lastname")),1),e(x,{modelValue:g.value,"onUpdate:modelValue":r[2]||(r[2]=h=>g.value=h),placeholder:n.$t("t-enter-lastname"),disabled:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),s("div",Ke,[U(f(n.$t("t-email"))+" ",1),Ze]),e(x,{modelValue:S.value,"onUpdate:modelValue":r[3]||(r[3]=h=>S.value=h),"!isEmail":"",placeholder:n.$t("t-enter-email-form"),disabled:""},null,8,["modelValue","placeholder"]),m.value?(C(),N(W,{key:0},{default:a(()=>[e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",Xe,[U(f(n.$t("t-password"))+" ",1),Ye]),e(x,{modelValue:D.value,"onUpdate:modelValue":r[4]||(r[4]=h=>D.value=h),"hide-details":"",isRequired:"",isPassword:"",placeholder:n.$t("t-enter-password")},null,8,["modelValue","placeholder"])]),_:1}),e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",et,[U(f(n.$t("t-confirm-password"))+" ",1),tt]),e(x,{modelValue:E.value,"onUpdate:modelValue":r[5]||(r[5]=h=>E.value=h),"hide-details":"",isRequired:"",isPassword:"",placeholder:n.$t("t-enter-password-confirm"),disabled:""},null,8,["modelValue","placeholder"])]),_:1})]),_:1})):T("",!0)]),_:1},8,["style"]),e(R),e(X,{class:"d-flex justify-end"},{default:a(()=>[s("div",null,[e(L,{color:"danger",class:"me-1",onClick:r[6]||(r[6]=h=>u.value=!1)},{default:a(()=>[lt,U(" "+f(n.$t("t-close")),1)]),_:1})])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}}),st=de("users",{state:()=>({users:[],pagination:{totalElements:0,currentPage:0,itemsPerPage:10,totalPages:0},loading:!1,error:null}),actions:{async fetchUsers(V,p,v="createdAt",$="asc",d,m){this.loading=!0,this.error=null;const i=V??this.pagination.currentPage,u=p??this.pagination.itemsPerPage;try{const{content:_,meta:g}=await A.getUsers(i,u,v,$,d,m);this.users=_,this.pagination={totalElements:g.totalElements,currentPage:g.page,itemsPerPage:g.size,totalPages:g.totalPages||Math.ceil(g.totalElements/g.size)}}catch(_){this.error=_.message||"Erro ao buscar utilizadores",this.users=[],this.pagination.totalElements=0}finally{this.loading=!1}}}});de("profile",{state:()=>({profile:[],error:null,loading:!1}),actions:{async fetchProfile(){this.error=null,this.loading=!0;try{const V=await xe.getUserProfile();this.profile=V.data,console.log("response profile",V)}catch(V){this.error=V.message||"Erro ao buscar profile",console.error("‚ùå Erro ao buscar profile:",V)}finally{this.loading=!1}}}});const ot={class:"font-weight-bold text-caption mb-1"},nt=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),rt={key:0,class:"text-red text-extra-small pt-1"},it={class:"font-weight-bold text-caption mb-1"},ut=s("i",{class:"ph-asterisk ph-xs text-danger"},null,-1),dt=s("i",{class:"ph-x me-1"},null,-1),mt=H({__name:"ChangePasswordModal",props:{modelValue:{type:Boolean,default:!1},data:{type:Object,required:!0},error:{type:String,default:""}},emits:["update:modelValue","onSubmit"],setup(V,{emit:p}){const v=p,$=V,d=o($.data),m=o(!1);o(d.value.id||"");const i=o(d.value.newPassword||""),u=o(d.value.confirmPassword||""),_=q({get:()=>$.modelValue,set:n=>v("update:modelValue",n)}),g=o({newPassword:"",confirmPassword:""}),{t:S}=Z(),D=()=>{let n=!0;return Object.keys(g.value).forEach(r=>{g.value[r]=""}),i.value||(g.value.newPassword=S("t-field-required"),n=!1),u.value||(g.value.confirmPassword=S("t-field-required"),n=!1),n};function E(){D()&&(m.value=!0,v("onSubmit",{newPassword:i.value,confirmPassword:u.value,passwordsMatching:i.value===u.value},{onSuccess:()=>{_.value=!1},onFinally:()=>{m.value=!1}}))}return(n,r)=>{const x=I("TextField"),B=I("Card");return C(),N(Y,{modelValue:_.value,"onUpdate:modelValue":r[4]||(r[4]=h=>_.value=h),width:"500",scrollable:""},{default:a(()=>[e(B,{title:n.$t("t-change-password"),"title-class":"py-0"},{"title-action":a(()=>[e(L,{icon:"ph-x",variant:"plain",onClick:r[0]||(r[0]=h=>_.value=!1)})]),default:a(()=>[e(R),e(K,{class:"overflow-y-auto"},{default:a(()=>[V.error?(C(),N(te,{key:0,text:V.error,type:"error",class:"mb-4",variant:"tonal",color:"danger",density:"compact"},null,8,["text"])):T("",!0),e(W,null,{default:a(()=>[e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",ot,[U(f(n.$t("t-new-password"))+" ",1),nt]),e(x,{modelValue:i.value,"onUpdate:modelValue":r[1]||(r[1]=h=>i.value=h),placeholder:n.$t("t-enter-password"),"error-messages":g.value.newPassword?[g.value.newPassword]:[],"hide-details":"",isPassword:""},null,8,["modelValue","placeholder","error-messages"]),g.value.newPassword?(C(),z("div",rt,f(g.value.newPassword),1)):T("",!0)]),_:1}),e(F,{cols:"12",lg:"6"},{default:a(()=>[s("div",it,[U(f(n.$t("t-confirm-password"))+" ",1),ut]),e(x,{modelValue:u.value,"onUpdate:modelValue":r[2]||(r[2]=h=>u.value=h),placeholder:n.$t("t-enter-password-confirm"),"error-messages":g.value.confirmPassword?[g.value.confirmPassword]:[],"hide-details":"",isPassword:""},null,8,["modelValue","placeholder","error-messages"])]),_:1})]),_:1})]),_:1}),e(R),e(X,{class:"d-flex justify-end"},{default:a(()=>[s("div",null,[e(L,{color:"danger",class:"me-1",onClick:r[3]||(r[3]=h=>_.value=!1)},{default:a(()=>[dt,U(" "+f(n.$t("t-close")),1)]),_:1}),e(L,{color:"primary",variant:"elevated",onClick:E,loading:m.value,disabled:m.value},{default:a(()=>[U(f(m.value?n.$t("t-saving"):n.$t("t-save")),1)]),_:1},8,["loading","disabled"])])]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}});const ct=s("div",{style:{color:"#abadb7"}},[s("i",{class:"ph ph-lock-key ph-4x"})],-1),vt={class:"mt-4"},ft={class:"text-h6 font-weight-bold"},pt={class:"text-muted mx-4 mb-0 text-subtitle-1"},gt=H({__name:"EnableAccountConfirmationDialog",props:{modelValue:{type:Boolean,default:!1},title:{type:String,default:""},width:{type:Number,default:550},action:{type:String,required:!0},loading:{type:Boolean,default:!1}},emits:["update:modelValue","onConfirm"],setup(V,{emit:p}){const v=p,$=V,d=q({get(){return $.modelValue},set(m){v("update:modelValue",m)}});return(m,i)=>(C(),N(Y,{width:V.width,modelValue:d.value,"onUpdate:modelValue":i[3]||(i[3]=u=>d.value=u)},{default:a(()=>[e(ce,null,{default:a(()=>[e(me,null,{default:a(()=>[U(f(V.title),1)]),_:1}),e(L,{variant:"text",class:"confirm-close-icon",icon:"ph-x",onClick:i[0]||(i[0]=u=>d.value=!1)}),e(K,{class:"text-center ma-md-5"},{default:a(()=>[ct,s("div",vt,[s("h4",ft,[se(m.$slots,"text",{},()=>[U(f(V.action==="enable"?m.$t("t-dialog-confirm-enable"):m.$t("t-dialog-confirm-disable")),1)])]),s("p",pt,[se(m.$slots,"text",{},()=>[U(f(V.action==="enable"?m.$t("t-dialog-text-confirm-enable"):m.$t("t-dialog-text-confirm-disable")),1)])])])]),_:3}),e(X,{class:"d-flex justify-center mt-4 mb-7"},{default:a(()=>[e(L,{onClick:i[1]||(i[1]=u=>d.value=!1),class:"me-2",flat:"",variant:"tonal"},{default:a(()=>[U(f(m.$t("t-close")),1)]),_:1}),e(L,{color:"danger",flat:"",variant:"elevated",loading:V.loading,disabled:V.loading,onClick:i[2]||(i[2]=u=>v("onConfirm"))},{default:a(()=>[U(f(V.action==="enable"?m.$t("t-yes-enable-it"):m.$t("t-yes-disable-it")),1)]),_:1},8,["loading","disabled"])]),_:1})]),_:3})]),_:3},8,["width","modelValue"]))}}),ht=s("i",{class:"ph-user-plus me-1"},null,-1),wt=["colspan"],Vt=s("i",{class:"ph-magnifying-glass",style:{"font-size":"30px"}},null,-1),yt={class:"text-subtitle-1 font-weight-bold mt-3"},$t={key:0,class:"text-center pa-7"},bt={class:"mb-3"},_t=s("i",{class:"ph-magnifying-glass ph-lg"},null,-1),Pt={class:"text-subtitle-1 font-weight-bold"},ie="firstName,lastName,email",xt=H({__name:"index",setup(V){const{t:p}=Z(),v=Ue(),$=st(),d=o("enable"),m=o(!1),i=o(!1),u=o(null),_=o(!1),g=o(!1),S=o(null),D=o(!1),E=o(null),n=o(null),r=o(!1),x=o(null),B=o(!1),h=o("");let M=null;const y=t=>{const l=$.users.find(w=>w.id===t);l&&(x.value=t,d.value=l.enabled?"disable":"enable",r.value=!0)},P=t=>{var w,c;M&&(clearTimeout(M),M=null);const l=((c=(w=t==null?void 0:t.response)==null?void 0:w.data)==null?void 0:c.error.errors.passwordsMatching[0])||(t==null?void 0:t.message)||p("t-message-save-error");h.value=l,M=setTimeout(()=>{h.value="",M=null},5e3)};Ce(()=>{M&&(clearTimeout(M),M=null)});const O=o(""),Q=o(10),b=o([]),ve=q(()=>$.loading),fe=q(()=>$.pagination.totalElements);G(b,t=>{console.log("Funcion√°rios selecionados:",t)},{deep:!0});const le=async({page:t,itemsPerPage:l,sortBy:w,search:c})=>{var k,j;await $.fetchUsers(t-1,l,((k=w[0])==null?void 0:k.key)||"createdAt",((j=w[0])==null?void 0:j.order)||"asc",c,ie)},pe=t=>{b.value.findIndex(w=>w.id===t.id)===-1?b.value=[...b.value,t]:b.value=b.value.filter(w=>w.id!==t.id)};G(m,t=>{t||(u.value=null)});const ae=t=>{t?u.value=t:u.value={id:-1,firstName:"",lastName:"",email:"",password:"",enabled:!1,accountLocked:!1,twoFactor:!1,failedsLogin:"",lastSucessfulLogin:"",lastFailedLogin:"",lastPasswordUpdate:"",passwordExpirationDate:""},m.value=!0},ge=async(t,l)=>{var w,c;try{t.id?(await A.updateUser(t.id,t),v.success(p("t-toast-message-update"))):(await A.createUser(t),v.success(p("t-toast-message-created"))),await $.fetchUsers(0,Q.value),(w=l==null?void 0:l.onSuccess)==null||w.call(l)}catch(k){console.error("Erro ao salvar usu√°rio:",k),v.error(p("t-message-save-error"))}finally{(c=l==null?void 0:l.onFinally)==null||c.call(l)}},he=async(t,l)=>{var w,c;try{if(!E.value){v.error(p("t-message-user-not-selected"));return}await A.changePasswordUser(E.value,t),v.success(p("t-toast-message-created")),(w=l==null?void 0:l.onSuccess)==null||w.call(l)}catch(k){console.error("Erro ao alterar senha:",k),v.error(p("t-message-save-error")),P(k)}finally{(c=l==null?void 0:l.onFinally)==null||c.call(l)}};G(i,t=>{t||(u.value=null)});const we=t=>{t?(u.value=t,console.log("userData.value",u.value)):u.value={id:-1,firstName:"",lastName:"",email:"",password:"",enabled:!1,accountLocked:!1,twoFactor:!1,failedsLogin:"",lastSucessfulLogin:"",lastFailedLogin:"",lastPasswordUpdate:"",passwordExpirationDate:""},i.value=!0};G(_,t=>{t||(n.value=null,h.value="")});const Ve=t=>{t&&(n.value={id:t.id,newPassword:"",confirmPassword:"",passwordsMatching:!0},E.value=t.id,_.value=!0)},ye=async()=>{B.value=!0;try{const t=$.users.find(w=>w.id===x.value);if(!t){v.error(p("t-message-user-not-found"));return}const l=t.enabled;await A.enableUser(x.value),await $.fetchUsers(),l?v.success(p("t-toast-message-user-disabled")):v.success(p("t-toast-message-user-enabled"))}catch(t){v.error(p("t-message-enable-error")),console.error("Erro ao alterar estado da conta:",t)}finally{B.value=!1,r.value=!1,x.value=null}};G(g,t=>{t||(S.value=null)});const $e=t=>{S.value=t,console.log("delete id",S.value),g.value=!0},be=async()=>{var t,l;D.value=!0;try{await A.deleteUser(S.value),b.value=b.value.filter(w=>w.id!==S.value),await $.fetchUsers(0,Q.value),v.success(p("t-toast-message-deleted"))}catch(w){v.error(p("t-toast-message-deleted-erros")),console.error("Delete error:",w);const c=((l=(t=w==null?void 0:w.response)==null?void 0:t.data)==null?void 0:l.message)||p("t-message-delete-error-unknown");v.error(c)}finally{D.value=!1,g.value=!1,S.value=null}},_e=(t,l)=>{switch(t){case"view":we(l);break;case"edit":ae(l);break;case"delete":$e(l.id);break;case"change":Ve(l);break;case"enable":y(l.id);break}},Pe=t=>Le.map(l=>l.value==="enable"?{...l,title:t.enabled?p("t-disable"):p("t-enable")}:{...l,title:p(`t-${l.title}`)});return(t,l)=>{const w=I("ListMenuWithIcon");return C(),z(ee,null,[e(ce,null,{default:a(()=>[e(me,{class:"mt-2"},{default:a(()=>[e(W,{justify:"space-between"},{default:a(()=>[e(F,{lg:"3"},{default:a(()=>[e(Se,{modelValue:O.value,"onUpdate:modelValue":l[0]||(l[0]=c=>O.value=c),placeholder:t.$t("t-search-for-users")},null,8,["modelValue","placeholder"])]),_:1}),e(F,{lg:"auto"},{default:a(()=>[e(L,{color:"secondary",onClick:l[1]||(l[1]=c=>ae(null))},{default:a(()=>[ht,U(" "+f(t.$t("t-add-user")),1)]),_:1})]),_:1})]),_:1})]),_:1}),e(K,{class:"mt-2"},{default:a(()=>[e(Te,{modelValue:b.value,"onUpdate:modelValue":l[2]||(l[2]=c=>b.value=c),headers:J(re).map(c=>({...c,title:t.$t(`t-${c.title}`)})),items:J($).users,"items-per-page":Q.value,"total-items":fe.value,loading:ve.value,"search-query":O.value,"search-props":ie,onLoadItems:le,"item-value":"id","show-select":""},ke({body:a(({items:c})=>[(C(!0),z(ee,null,Ee(c,k=>(C(),z("tr",{key:k.id,height:"50"},[s("td",null,[e(Ne,{"model-value":b.value.some(j=>j.id===k.id),"onUpdate:modelValue":j=>pe(k),"hide-details":"",density:"compact"},null,8,["model-value","onUpdate:modelValue"])]),s("td",null,f(k.firstName)+" "+f(k.lastName),1),s("td",null,f(k.email),1),s("td",null,[e(ne,{status:k.enabled?"active":"unactive"},null,8,["status"])]),s("td",null,[e(ne,{status:k.accountLocked?"block":"unblock"},null,8,["status"])]),s("td",null,[e(w,{menuItems:Pe(k),onOnSelect:j=>_e(j,k)},null,8,["menuItems","onOnSelect"])])]))),128))]),_:2},[J($).users.length===0?{name:"body",fn:a(()=>[s("tr",null,[s("td",{colspan:J(re).length,class:"text-center py-10"},[e(oe,{size:"80",color:"primary",variant:"tonal"},{default:a(()=>[Vt]),_:1}),s("div",yt,f(t.$t("t-search-not-found-message")),1)],8,wt)])]),key:"0"}:void 0]),1032,["modelValue","headers","items","items-per-page","total-items","loading","search-query"]),le.length?T("",!0):(C(),z("div",$t,[s("div",bt,[e(oe,{color:"primary",variant:"tonal",size:"x-large"},{default:a(()=>[_t]),_:1})]),s("div",Pt,f(t.$t("t-search-not-found-message")),1)]))]),_:1})]),_:1}),n.value?(C(),N(mt,{key:0,modelValue:_.value,"onUpdate:modelValue":l[3]||(l[3]=c=>_.value=c),data:n.value,error:h.value,onOnSubmit:he},null,8,["modelValue","data","error"])):T("",!0),u.value?(C(),N(He,{key:1,modelValue:m.value,"onUpdate:modelValue":l[4]||(l[4]=c=>m.value=c),data:u.value,onOnSubmit:ge},null,8,["modelValue","data"])):T("",!0),u.value?(C(),N(at,{key:2,modelValue:i.value,"onUpdate:modelValue":l[5]||(l[5]=c=>i.value=c),data:u.value},null,8,["modelValue","data"])):T("",!0),S.value?(C(),N(De,{key:3,modelValue:g.value,"onUpdate:modelValue":l[6]||(l[6]=c=>g.value=c),onOnConfirm:be,loading:D.value},null,8,["modelValue","loading"])):T("",!0),x.value?(C(),N(gt,{key:4,modelValue:r.value,"onUpdate:modelValue":l[7]||(l[7]=c=>r.value=c),action:d.value,onOnConfirm:ye,loading:B.value},null,8,["modelValue","action","loading"])):T("",!0)],64)}}}),kt=H({__name:"ListView",setup(V){return(p,v)=>{const $=I("Breadcrumb");return C(),z(ee,null,[e($,{title:"users-list",items:J(Fe)},null,8,["items"]),e(xt)],64)}}});export{kt as default};
