import{d as U,L as H,l as o,c as M,m as q,M as V,b as m,f as C,x as l,w as r,aF as Q,D as J,G as L,N as K,O as X,Q as N,C as Y,aG as Z,g as S,F as A,E as ee,i as n,S as ae,I as f,T as te,H as P,h as O,V as le,e as E,W as ne,B as se}from"./index-1db35709.js";import{a as oe}from"./utils-cdff6c9b.js";import{_ as ue}from"./Status.vue_vue_type_script_setup_true_lang-8d758673.js";import{_ as ie}from"./TableAction.vue_vue_type_script_setup_true_lang-6eb16471.js";import{_ as re}from"./CreateUpdateAgentDialog.vue_vue_type_script_setup_true_lang-c2108e94.js";const de=[{title:"agent",disabled:!1},{title:"list-view",disabled:!0}],ce=[{title:"",isCheck:!0},{title:"#"},{title:"Date"},{title:"Agent Name"},{title:"Address"},{title:"Email"},{title:"Contacts"},{title:"Status"},{title:"Action"}],ve=n("i",{class:"ph-user-plus me-1"},null,-1),me={key:0,class:"text-center pa-7"},ge={class:"mb-3"},fe=n("i",{class:"ph-magnifying-glass ph-lg"},null,-1),pe=n("div",{class:"text-subtitle-1 font-weight-bold"}," Sorry! No Result Found ",-1),_e=n("div",{class:"text-muted mt-1"}," We've searched more than 150+ agent We did not find any agent for you search. ",-1),he=U({__name:"index",setup(j){const $=H(),g=o(!1),d=o(null),p=o(!1),D=o(null),k=o(!1),F=oe.map(e=>({...e,isCheck:!1})).toReversed(),s=o(F),c=o(s.value),w=o(""),b=o(1),x=M(()=>c.value.length),v=o([]),_=o(!1),i=o({page:b.value,start:0,end:0,noOfItems:x.value,itemsPerPage:10}),B=()=>{const{itemsPerPage:e,page:t}=i.value,a=(t-1)*e;let u=a+e;u=u<=x.value?u:x.value,i.value={...i.value,start:a,end:u};const h=c.value.slice(i.value.start,i.value.end);_.value=!0,v.value=[],setTimeout(()=>{v.value=h,_.value=!1},200)};q(()=>{B()}),V(b,e=>{i.value.page=e,B()}),V(s,e=>{y(e)});const y=e=>{_.value=!0;const{itemsPerPage:t}=i.value,a=1;let u=a+t;u=u<=e.length?u:e.length,v.value=[],setTimeout(()=>{v.value=e,i.value={...i.value,start:a,end:u,noOfItems:e.length},_.value=!1},200)};V(w,e=>{s.value=c.value.filter(t=>{const a=e.toLowerCase();if(t.name.toLowerCase().includes(a)||t.location.includes(a)||t.email.includes(a))return t}),y(s.value)}),V(g,e=>{e||(d.value=null)}),V(p,e=>{e||(D.value=null)});const T=e=>{e?d.value=e:d.value={id:-1,joining_date:new Date,img:"",img_alt:"avatar.jpg",name:"",property:"149",location:"",email:"",contact:"",status:"",new:!0},g.value=!0},R=e=>{if(e.id===-1){const t={...e,id:c.value.length+1,img:e.img.src?e.img.src:e.img};s.value.unshift(t)}else s.value=s.value.map(t=>t.id===e.id?{...t,...e}:t);c.value=s.value,y(s.value),g.value=!1},I=()=>{$.push({path:"/real-estate-agent/overview"})},W=e=>{D.value=e,p.value=!0},z=()=>{s.value=c.value.filter(e=>e.id!==D.value),c.value=s.value,p.value=!1,y(s.value)},G=()=>{k.value=!k.value,v.value=v.value.map(e=>({...e,isCheck:k.value}))};return(e,t)=>(m(),C(A,null,[l(le,null,{default:r(()=>[l(Q,null,{default:r(()=>[l(J,{justify:"space-between"},{default:r(()=>[l(L,{lg:"3"},{default:r(()=>[l(K,{modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=a=>w.value=a),placeholder:"Search for agent, email, address or something..."},null,8,["modelValue"])]),_:1}),l(L,{lg:"auto"},{default:r(()=>[l(X,{color:"secondary",onClick:t[1]||(t[1]=a=>T(null))},{default:r(()=>[ve,N(" Add Agent ")]),_:1})]),_:1})]),_:1})]),_:1}),l(Y,null,{default:r(()=>[l(Z,{modelValue:b.value,"onUpdate:modelValue":t[2]||(t[2]=a=>b.value=a),headerItems:S(ce),config:i.value,loading:_.value,"is-pagination":"",onOnSelectAll:G},{body:r(()=>[(m(!0),C(A,null,ee(v.value,(a,u)=>(m(),C("tr",{key:"agent-listing-item-"+u,height:"50"},[n("td",null,[l(ae,{modelValue:a.isCheck,"onUpdate:modelValue":h=>a.isCheck=h,"hide-details":"",color:"primary"},null,8,["modelValue","onUpdate:modelValue"])]),n("td",{class:"text-primary font-weight-bold curser-pointer",onClick:I}," #TBS"+f(a.id),1),n("td",null,f(S(te)(a.joining_date)),1),n("td",null,[l(P,{image:a.img,rounded:"",size:"small",class:"me-2"},null,8,["image"]),N(" "+f(a.name),1)]),n("td",null,f(a.location),1),n("td",null,f(a.email),1),n("td",null,f(a.contact),1),n("td",null,[l(ue,{status:a.status},null,8,["status"])]),n("td",null,[l(ie,{onOnEdit:h=>T(a),onOnView:I,onOnDelete:h=>W(a.id)},null,8,["onOnEdit","onOnDelete"])])]))),128))]),_:1},8,["modelValue","headerItems","config","loading"]),s.value.length?O("",!0):(m(),C("div",me,[n("div",ge,[l(P,{color:"primary",variant:"tonal",size:"x-large"},{default:r(()=>[fe]),_:1})]),pe,_e]))]),_:1})]),_:1}),d.value?(m(),E(re,{key:0,modelValue:g.value,"onUpdate:modelValue":t[3]||(t[3]=a=>g.value=a),data:d.value,onOnSubmit:R},null,8,["modelValue","data"])):O("",!0),D.value?(m(),E(ne,{key:1,modelValue:p.value,"onUpdate:modelValue":t[4]||(t[4]=a=>p.value=a),onOnConfirm:z},null,8,["modelValue"])):O("",!0)],64))}}),ke=U({__name:"ListView",setup(j){return($,g)=>{const d=se("Breadcrumb");return m(),C(A,null,[l(d,{title:"Agent List",items:S(de)},null,8,["items"]),l(he)],64)}}});export{ke as default};
